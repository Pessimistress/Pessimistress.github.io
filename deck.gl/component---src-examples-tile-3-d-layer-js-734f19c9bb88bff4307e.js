/*! For license information please see component---src-examples-tile-3-d-layer-js-734f19c9bb88bff4307e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"+TUu":function(t,e,n){var r;!function(i,a,o,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=a.createElement("div"),f=Math.round,h=Math.abs,p=Date.now;function d(t,e,n){return setTimeout(B(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(b(t,n[e],n),!0)}function b(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var m=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),A=y((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function g(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function B(t,e){return function(){return t.apply(e,arguments)}}function O(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function _(t,e,n){b(D(e),(function(e){t.addEventListener(e,n,!1)}))}function E(t,e,n){b(D(e),(function(e){t.removeEventListener(e,n,!1)}))}function j(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function w(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function S(t,e,n){for(var r=[],i=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];I(i,o)<0&&r.push(t[a]),i[a]=o,a++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function R(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),a=0;a<u.length;){if((r=(n=u[a])?n+i:e)in t)return r;a++}}var x=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var F="ontouchstart"in i,G=void 0!==R(i,"PointerEvent"),P=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),k=["x","y"],U=["clientX","clientY"];function L(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){O(t.options.enable,[t])&&n.handler(e)},this.init()}function H(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,a=1&e&&r-i==0,o=12&e&&r-i==0;n.isFirst=!!a,n.isFinal=!!o,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=J(e));i>1&&!n.firstMultiple?n.firstMultiple=J(e):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,c=e.center=N(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=X(s,c),e.distance=Q(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};1!==e.eventType&&4!==a.eventType||(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var u=K(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=h(u.x)>h(u.y)?u.x:u.y,e.scale=o?(l=o.pointers,f=r,Q(f[0],f[1],U)/Q(l[0],l[1],U)):1,e.rotation=o?function(t,e){return X(e[1],e[0],U)+X(t[1],t[0],U)}(o.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,a,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(s>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,l=K(s,c,u);r=l.x,i=l.y,n=h(l.x)>h(l.y)?l.x:l.y,a=z(c,u),t.lastInterval=e}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=a}(n,e);var l,f;var d=t.element;j(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function J(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function K(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function Q(t,e,n){n||(n=k);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function X(t,e,n){n||(n=k);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}L.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(M(this.element),this.evWin,this.domHandler)}};var V={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,L.apply(this,arguments)}g(Y,L,{handler:function(t){var e=V[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},W={2:"touch",3:"pen",4:"mouse",5:"kinect"},q="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=q,this.evWin=$,L.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(q="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),g(tt,L,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Z[r],a=W[t.pointerType]||t.pointerType,o="touch"==a,s=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,L.apply(this,arguments)}function rt(t,e){var n=T(t.touches),r=T(t.changedTouches);return 12&e&&(n=S(n.concat(r),"identifier",!0)),[n,r]}g(nt,L,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},L.apply(this,arguments)}function ot(t,e){var n=T(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=T(t.changedTouches),s=[],c=this.target;if(a=n.filter((function(t){return j(t.target,c)})),1===e)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),12&e&&delete r[o[i].identifier],i++;return s.length?[S(a.concat(s),"identifier",!0),s]:void 0}g(at,L,{handler:function(t){var e=it[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){L.apply(this,arguments);var t=B(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(e-i.x),o=Math.abs(n-i.y);if(a<=25&&o<=25)return!0}return!1}g(st,L,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ct.call(this,e,n);else if(i&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ft=R(l.style,"touchAction"),ht=void 0!==ft,pt=function(){if(!ht)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ft]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return b(this.manager.recognizers,(function(e){O(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(w(t,"none"))return"none";var e=w(t,"pan-x"),n=w(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(w(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=w(r,"none")&&!pt.none,a=w(r,"pan-y")&&!pt["pan-y"],o=w(r,"pan-x")&&!pt["pan-x"];if(i){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}if(!o||!a)return i||a&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function vt(t){this.options=c({},this.defaults,t||{}),this.id=x++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function bt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function mt(t,e){var n=e.manager;return n?n.get(t):t}function At(){vt.apply(this,arguments)}function gt(){At.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){At.apply(this,arguments)}function Ot(){vt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){At.apply(this,arguments)}function _t(){At.apply(this,arguments)}function Et(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function jt(t,e){return(e=e||{}).recognizers=C(e.recognizers,jt.defaults.preset),new wt(t,e)}vt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=mt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+bt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+bt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!O(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(At,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),g(gt,At,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,a=t.deltaX,o=t.deltaY;return i&e.direction||(6&e.direction?(i=0===a?1:a<0?2:4,n=a!=this.pX,r=Math.abs(t.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return At.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g(Bt,At,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(Ot,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),g(Ct,At,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),g(_t,At,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Et,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),jt.VERSION="2.0.7",jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[Bt,{enable:!1},["rotate"]],[_t,{direction:6}],[gt,{direction:6},["swipe"]],[Et],[Et,{event:"doubletap",taps:2},["tap"]],[Ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function wt(t,e){var n;this.options=c({},jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(G?tt:P?at:F?st:Y))(n,H),this.touchAction=new dt(this,this.options.touchAction),Dt(this,!0),b(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Dt(t,e){var n,r=t.element;r.style&&(b(t.options.cssProps,(function(i,a){n=R(r.style,a),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}wt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),a++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return b(D(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return b(D(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(jt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:wt,Input:L,TouchAction:dt,TouchInput:at,MouseInput:Y,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:At,Tap:Et,Pan:gt,Swipe:_t,Pinch:Bt,Rotate:Ct,Press:Ot,on:_,off:E,each:b,merge:A,extend:m,assign:c,inherit:g,bindFn:B,prefixed:R}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=jt,void 0===(r=function(){return jt}.call(e,n,e,t))||(t.exports=r)}(window,document)},16:function(t,e){},"5zO3":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n("1OyB"),i=n("vuIU"),a=n("rePB"),o=n("BHO1"),s=n.n(o),c=n("oJR1");var u={container:s.a.object,gl:s.a.object,mapboxApiAccessToken:s.a.string,mapboxApiUrl:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,reuseMaps:s.a.bool,transformRequest:s.a.func,mapOptions:s.a.object,mapStyle:s.a.oneOfType([s.a.string,s.a.object]),visible:s.a.bool,asyncRender:s.a.bool,onLoad:s.a.func,onError:s.a.func,width:s.a.number,height:s.a.number,viewState:s.a.object,longitude:s.a.number,latitude:s.a.number,zoom:s.a.number,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},l={container:c.a.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!=typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||void 0===t||(e=e||"pk.eyJ1IjoieGlhb2ppY2hlbiIsImEiOiJja2tyNG5zNjQwNHl4Mm9xYjQxem5yYXh2In0.paOW5xnztNAXDTfOJsmVWA");return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&s.a.checkPropTypes(u,t,"prop",e)}var h=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(a.a)(this,"mapboxgl",void 0),Object(a.a)(this,"props",l),Object(a.a)(this,"_map",null),Object(a.a)(this,"width",0),Object(a.a)(this,"height",0),Object(a.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;f(t=Object.assign({},l,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){f(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,a=e.pitch,o=void 0===a?0:a,s=e.bearing,c=void 0===s?0:s,u=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:o,bearing:c,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==c.a)try{var e=c.a.createElement("div");e.className="mapboxgl-map",e.style.display="none",c.a.body.append(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=c.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),c.a.head.append(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(a.a)(h,"initialized",!1),Object(a.a)(h,"propTypes",u),Object(a.a)(h,"defaultProps",l),Object(a.a)(h,"savedMap",null)}).call(this,n("8oxB"))},"9Nty":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"name",(function(){return yo})),n.d(r,"preprocess",(function(){return mo})),n.d(r,"decode",(function(){return Ao}));var i={};n.r(i),n.d(i,"name",(function(){return jo})),n.d(i,"preprocess",(function(){return wo}));var a={};n.r(a),n.d(a,"name",(function(){return To})),n.d(a,"preprocess",(function(){return So}));var o={};n.r(o),n.d(o,"name",(function(){return Uo})),n.d(o,"preprocess",(function(){return Lo})),n.d(o,"decode",(function(){return Ho})),n.d(o,"encode",(function(){return No}));var s={};n.r(s),n.d(s,"name",(function(){return Wo})),n.d(s,"decode",(function(){return qo})),n.d(s,"encode",(function(){return ts}));var c={};n.r(c),n.d(c,"name",(function(){return is})),n.d(c,"decode",(function(){return as})),n.d(c,"encode",(function(){return ss}));var u={};n.r(u),n.d(u,"name",(function(){return ls})),n.d(u,"decode",(function(){return fs})),n.d(u,"encode",(function(){return ps}));var l=n("dI71"),f=n("q1tI"),h=n.n(f),p=n("lxDd"),d=n("rePB"),v=(n("i8i4"),n("wx14")),b=n("1OyB"),y=n("JX7q"),m=n("vuIU"),A=n("Ji7U"),g=n("md7G"),B=n("foSv"),O=n("BHO1"),C=n.n(O);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function I(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=j(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(o){r.e(o)}finally{r.f()}var a=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=E({},t)).interactive,e){delete(r=r||E({},t)).ref;var i,a=j(D);try{for(a.s();!(i=a.n()).done;){var s=i.value;s in e&&(r[s]=e[s])}}catch(o){a.e(o)}finally{a.f()}}return r||t}));return E(E({},t),{},{layers:a})}var T=n("R25c"),S=n("evtk"),R=n("5zO3"),x=n("kZXF"),M=n.n(x),F=n("ODXe");function G(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function P(t,e){if(t===e)return!0;if(G(t)&&G(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!P(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function k(t,e,n){return Math.max(e,Math.min(n,t))}function U(t,e,n){return G(t)?t.map((function(t,r){return U(t,e[r],n)})):n*e+(1-n)*t}function L(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function H(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N=function(){function t(){Object(b.a)(this,t),Object(d.a)(this,"propNames",[])}return Object(m.a)(t,[{key:"arePropsEqual",value:function(t,e){var n,r=H(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!P(t[i],e[i]))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){L(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),K={longitude:1,bearing:1};function z(t){return Number.isFinite(t)||Array.isArray(t)}function Q(t,e,n){return function(t){return t in K}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function X(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var Z=["longitude","latitude","zoom","bearing","pitch"],W=["latitude","longitude","zoom","width","height"],q=["bearing","pitch"],$={speed:1.2,curve:1.414};!function(t){Object(A.a)(n,t);var e=Y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(b.a)(this,n),t=e.call(this),Object(d.a)(Object(y.a)(t),"speed",void 0),Object(d.a)(Object(y.a)(t),"propNames",Z),Object(d.a)(Object(y.a)(t),"props",void 0),t.props=Object.assign({},$,r),t}Object(m.a)(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},a=X(W);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t[o],c=e[o];L(z(s)&&z(c),"".concat(o," must be supplied for transition")),r[o]=s,i[o]=Q(o,s,c)}}catch(d){a.e(d)}finally{a.f()}var u,l=X(q);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=t[f]||0,p=e[f]||0;r[f]=h,i[f]=Q(f,h,p)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=Object(T.e)(t,e,n,this.props),a=X(q);try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=U(t[o],e[o],n)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=Object(T.i)(t,e,this.props)),n}}])}(N);function tt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var rt=["longitude","latitude","zoom","bearing","pitch"],it=function(t){Object(A.a)(n,t);var e=nt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(b.a)(this,n),t=e.call(this),Object(d.a)(Object(y.a)(t),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||rt,r.around&&(t.around=r.around),t}return Object(m.a)(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new T.a(t).unproject(this.around);Object.assign(r,e,{around:new T.a(e).project(i),aroundLngLat:i})}var a,o=tt(this.propNames);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=t[s],u=e[s];L(z(c)&&z(u),"".concat(s," must be supplied for transition")),n[s]=c,r[s]=Q(s,c,u)}}catch(l){o.e(l)}finally{o.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},a=tt(this.propNames);try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=U(t[o],e[o],n)}}catch(f){a.e(f)}finally{a.f()}if(e.around){var s=new T.a(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:U(t.around,e.around,n)}),c=Object(F.a)(s,2),u=c[0],l=c[1];i.longitude=u,i.latitude=l}return i}}]),n}(N),at={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},ot=0,st=0,ct=1.5,ut=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,a=e.longitude,o=e.zoom,s=e.bearing,c=void 0===s?st:s,u=e.pitch,l=void 0===u?ot:u,f=e.altitude,h=void 0===f?ct:f,p=e.maxZoom,v=void 0===p?at.maxZoom:p,y=e.minZoom,m=void 0===y?at.minZoom:y,A=e.maxPitch,g=void 0===A?at.maxPitch:A,B=e.minPitch,O=void 0===B?at.minPitch:B,C=e.transitionDuration,_=e.transitionEasing,E=e.transitionInterpolator,j=e.transitionInterruption,w=e.startPanLngLat,D=e.startZoomLngLat,I=e.startBearing,T=e.startPitch,S=e.startZoom;Object(b.a)(this,t),Object(d.a)(this,"_viewportProps",void 0),Object(d.a)(this,"_interactiveState",void 0),L(Number.isFinite(n),"`width` must be supplied"),L(Number.isFinite(r),"`height` must be supplied"),L(Number.isFinite(a),"`longitude` must be supplied"),L(Number.isFinite(i),"`latitude` must be supplied"),L(Number.isFinite(o),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:a,zoom:o,bearing:c,pitch:l,altitude:h,maxZoom:v,minZoom:m,maxPitch:g,minPitch:O,transitionDuration:C,transitionEasing:_,transitionInterpolator:E,transitionInterruption:j}),this._interactiveState={startPanLngLat:w,startZoomLngLat:D,startBearing:I,startPitch:T,startZoom:S}}return Object(m.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),a=Object(F.a)(i,2),o=a[0],s=a[1];return this._getUpdatedMapState({longitude:o,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,a=this._interactiveState,o=a.startBearing,s=a.startPitch;if(!Number.isFinite(o)||!Number.isFinite(s))return this;var c=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:o||0,startPitch:s||0}),u=c.pitch,l=c.bearing;return this._getUpdatedMapState({bearing:l,pitch:u})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;L(r>0,"`scale` must be a positive number");var i=this._interactiveState,a=i.startZoom,o=i.startZoomLngLat;Number.isFinite(a)||(a=this._viewportProps.zoom,o=this._unproject(n)||this._unproject(e)),L(o,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:a||0}),c=new T.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:o,pos:e}),u=Object(F.a)(c,2),l=u[0],f=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=k(r,n,e);var i=t.maxPitch,a=t.minPitch,o=t.pitch;return t.pitch=k(o,a,i),Object.assign(t,Object(T.n)(t)),t}},{key:"_unproject",value:function(t){var e=new T.a(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new T.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,a=r.minZoom;return k(n+Math.log2(e),a,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=k(n,-1,1);var a=this._viewportProps,o=a.minPitch,s=a.maxPitch,c=i;return n>0?c=i+n*(s-i):n<0&&(c=i-n*(o-i)),{pitch:c,bearing:r+180*e}}}]),t}();function lt(t){return t[0].toLowerCase()+t.slice(1)}var ft=Object(f.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var vt="A valid API access token is required to use Mapbox data";var bt={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},yt=Object.assign({},R.a.propTypes,{width:C.a.oneOfType([C.a.number,C.a.string]),height:C.a.oneOfType([C.a.number,C.a.string]),onResize:C.a.func,preventStyleDiffing:C.a.bool,disableTokenWarning:C.a.bool,visible:C.a.bool,className:C.a.string,style:C.a.object,visibilityConstraints:C.a.object}),mt=Object.assign({},R.a.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:at}),At=function(t){Object(A.a)(n,t);var e=dt(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"state",{accessTokenInvalid:!1}),Object(d.a)(Object(y.a)(t),"_mapbox",null),Object(d.a)(Object(y.a)(t),"_map",null),Object(d.a)(Object(y.a)(t),"_mapboxMapRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(t),"_mapContainerRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(t),"_queryParams",{}),Object(d.a)(Object(y.a)(t),"_width",0),Object(d.a)(Object(y.a)(t),"_height",0),Object(d.a)(Object(y.a)(t),"getMap",(function(){return t._map})),Object(d.a)(Object(y.a)(t),"queryRenderedFeatures",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._map.queryRenderedFeatures(e,n)})),Object(d.a)(Object(y.a)(t),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||t.state.accessTokenInvalid||(console.error(vt),t.setState({accessTokenInvalid:!0})),t.props.onError(e)})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){if(n.supported()){var t=this.props.mapStyle;this._mapbox=new R.a(Object.assign({},this.props,{mapboxgl:M.a,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:I(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&n&&this._map.setStyle(I(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return f.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},f.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),f.createElement("div",{key:"text"},"For information on setting up your basemap, read"),f.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=void 0===n?Number(this.props.width):n,i=t.height,a=void 0===i?Number(this.props.height):i;return this._updateMapSize(r,a),f.createElement(ft.Consumer,null,(function(t){var n=pt(pt({},t),{},{viewport:new T.a(pt(pt(pt({},e.props),e.props.viewState),{},{width:r,height:a})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return f.createElement(ft.Provider,{value:n},f.createElement("div",{key:"map-overlays",className:"overlays",style:bt},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,a=t.visibilityConstraints,o=Object.assign({position:"relative"},i,{width:n,height:r}),s=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at;for(var n in e){var r=n.slice(0,3),i=lt(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(this.props.viewState||this.props,a),c=Object.assign({},bt,{visibility:s?"inherit":"hidden"});return f.createElement("div",{key:"map-container",style:o,ref:this._mapContainerRef},f.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:c,className:e}),f.createElement(S.a,{key:"autosizer",disableWidth:Number.isFinite(n),disableHeight:Number.isFinite(r),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return M.a&&M.a.supported()}}]),n}(f.PureComponent);Object(d.a)(At,"propTypes",yt),Object(d.a)(At,"defaultProps",mt);var gt=function(){};var Bt=1,Ot=2,Ct=3,_t=4,Et={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new it,transitionInterruption:Bt,onTransitionStart:gt,onTransitionInterrupt:gt,onTransitionEnd:gt,onViewportChange:gt,onStateChange:gt},jt=function(){function t(e,n){var r=this;Object(b.a)(this,t),Object(d.a)(this,"props",void 0),Object(d.a)(this,"state",void 0),Object(d.a)(this,"time",void 0),Object(d.a)(this,"_animationFrame",null),Object(d.a)(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return Object(m.a)(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Ot?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===_t)){var i=this.time(),a=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,a),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===Ct||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){L(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),a={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:a},this._onTransitionFrame(),this.props.onStateChange(a)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,a=e.interpolator,o=e.startProps,s=e.endProps,c=!1,u=(t-n)/r;u>=1&&(u=1,c=!0),u=i(u);var l=a.interpolateProps(o,s,u),f=new ut(Object.assign({},this.props,l));this.state.propsInTransition=f.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),c&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(d.a)(jt,"defaultProps",Et);var wt,Dt,It=n("+TUu"),Tt=n.n(It),St={mousedown:1,mousemove:2,mouseup:4};wt=Tt.a.PointerEventInput,Dt=wt.prototype.handler,wt.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Dt.call(this,t)},Tt.a.MouseInput.prototype.handler=function(t){var e=St[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var Rt=Tt.a.Manager,xt=Tt.a,Mt=xt?[[xt.Rotate,{enable:!1}],[xt.Pinch,{enable:!1}],[xt.Swipe,{enable:!1}],[xt.Pan,{threshold:0,enable:!1}],[xt.Press,{enable:!1}],[xt.Tap,{event:"doubletap",taps:2,enable:!1}],[xt.Tap,{event:"anytap",enable:!1}],[xt.Tap,{enable:!1}]]:null,Ft={rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Gt={doubletap:["tap"]},Pt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},kt=["keydown","keyup"],Ut=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],Lt=["wheel","mousewheel","DOMMouseScroll"],Ht={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Jt={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Nt=n("q8n8"),Kt=-1!==Nt.b.indexOf("firefox"),zt=Lt,Qt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(b.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=zt.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!Nt.a&&{passive:!1})}))}return Object(m.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;Nt.c.WheelEvent&&(Kt&&t.deltaMode===Nt.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=Nt.c.devicePixelRatio),t.deltaMode===Nt.c.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%4.000244140625==0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Xt=Ut,Vt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(b.a)(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=Xt.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(m.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerover"===t&&(this.enableOverEvent=e),"pointerout"===t&&(this.enableOutEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:"pointerover",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:"pointerout",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),Yt=kt,Zt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(b.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Yt.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=i.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(m.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),t}(),Wt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(b.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return Object(m.a)(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){"contextmenu"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),qt=n("U8pU"),$t={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var te={srcElement:"root",priority:0},ee=function(){function t(e){Object(b.a)(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(m.a)(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.handlers,o=this.handlersByElement;n&&("object"!==Object(qt.a)(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},te,n):te;var s=o.get(n.srcElement);s||(s=[],o.set(n.srcElement,s));var c={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(c.once=!0),i&&(c.passive=!0),a.push(c),this._active=this._active||!c.passive;for(var u=s.length-1;u>=0&&!(s[u].priority>=c.priority);)u--;s.splice(u+1,0,c)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var a=n[i];if(a.type===t&&a.handler===e){n.splice(i,1);var o=r.get(a.srcElement);o.splice(o.indexOf(a),1),0===o.length&&r.delete(a.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},a=function(){t.handled=!0,r=!0},o=[],s=0;s<n.length;s++){var c=n[s],u=c.type,l=c.handler,f=c.once;if(l(Object.assign({},t,{type:u,stopPropagation:i,stopImmediatePropagation:a})),f&&o.push(n[s]),r)break}for(var h=0;h<o.length;h++){var p=o[h];u=p.type,l=p.handler;this.remove(u,l)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=$t[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,a=n.which,o=!1,s=!1,c=!1;return 4===e||2===e&&!Number.isFinite(r)?(o=1===a,s=2===a,c=3===a):2===e?(o=Boolean(1&r),s=Boolean(4&r),c=Boolean(2&r)):1===e&&(o=0===i,s=1===i,c=2===i),{leftButton:o,middleButton:s,rightButton:c}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),a=i.width/e.offsetWidth,o=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/a,y:(r.y-i.top-e.clientTop)/o}}}(t,e),{handled:!1,rootElement:e})}}]),t}(),ne={events:null,recognizers:null,recognizerOptions:{},Manager:Rt,touchAction:"none",tabIndex:0},re=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(b.a)(this,t),this.options=Object.assign({},ne,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Object(m.a)(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Mt}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Ft).forEach((function(t){var n=e.manager.get(t);n&&Ft[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var a=this.manager.get(i);if(a){var o=n.recognizerOptions[i];delete o.enable,a.set(o)}}this.wheelInput=new Qt(t,this._onOtherEvent,{enable:!1}),this.moveInput=new Vt(t,this._onOtherEvent,{enable:!1}),this.keyInput=new Zt(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Wt(t,this._onOtherEvent,{enable:!1});var s=!0,c=!1,u=void 0;try{for(var l,f=this.events[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=Object(F.a)(l.value,2),p=h[0],d=h[1];d.isEmpty()||(this._toggleRecognizer(d.recognizerName,!0),this.manager.on(p,d.handleEvent))}}catch(v){c=!0,u=v}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Gt[t];i&&!this.options.recognizers&&i.forEach((function(i){var a=n.get(i);e?(a.requireFailure(t),r.dropRequireFailure(i)):a.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"==typeof t){var a=this.manager,o=this.events,s=Jt[t]||t,c=o.get(s);c||(c=new ee(this),o.set(s,c),c.recognizerName=Ht[s]||s,a&&a.on(s,c.handleEvent)),c.add(t,e,n,r,i),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}else for(var u in n=e,t)this._addEventHandler(u,t[u],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=Jt[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var a=i.recognizerName,o=!1,s=!0,c=!1,u=void 0;try{for(var l,f=n.values()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;if(h.recognizerName===a&&!h.isEmpty()){o=!0;break}}}catch(d){c=!0,u=d}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}o||this._toggleRecognizer(a,!1)}}else for(var p in t)this._removeEventHandler(p,t[p])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=Pt[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var ie={transitionDuration:0},ae={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new it,transitionInterruption:Bt},oe=["wheel"],se=["panstart","panmove","panend"],ce=["pinchstart","pinchmove","pinchend","pinchcancel"],ue=["doubletap"],le=["keydown"],fe=function(){function t(){var e=this;Object(b.a)(this,t),Object(d.a)(this,"events",[]),Object(d.a)(this,"mapState",void 0),Object(d.a)(this,"onViewportChange",void 0),Object(d.a)(this,"onStateChange",void 0),Object(d.a)(this,"mapStateProps",void 0),Object(d.a)(this,"eventManager",void 0),Object(d.a)(this,"scrollZoom",!0),Object(d.a)(this,"dragPan",!0),Object(d.a)(this,"dragRotate",!0),Object(d.a)(this,"doubleClickZoom",!0),Object(d.a)(this,"touchZoom",!0),Object(d.a)(this,"touchRotate",!1),Object(d.a)(this,"keyboard",!0),Object(d.a)(this,"_state",{isDragging:!1}),Object(d.a)(this,"_events",{}),Object(d.a)(this,"_transitionManager",new jt),Object(d.a)(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,r,i,a=function(){return i=null,t.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(a,e)}}(this._onWheelEnd,100)}return Object(m.a)(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),a=Object.keys(i).some((function(t){return r[t]!==i[t]}));a&&this.onViewportChange(i,n,r),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new ut(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,a=t.isInteractive,o=void 0===a||a,s=t.scrollZoom,c=void 0===s?this.scrollZoom:s,u=t.dragPan,l=void 0===u?this.dragPan:u,f=t.dragRotate,h=void 0===f?this.dragRotate:f,p=t.doubleClickZoom,d=void 0===p?this.doubleClickZoom:p,v=t.touchZoom,b=void 0===v?this.touchZoom:v,y=t.touchRotate,m=void 0===y?this.touchRotate:y,A=t.keyboard,g=void 0===A?this.keyboard:A;this.onViewportChange=e,this.onStateChange=n;var B=!this.mapStateProps||this.mapStateProps.height!==t.height;this.mapStateProps=t,B&&this.updateViewport(new ut(t)),this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(oe,o&&c),this.toggleEvents(se,o&&(l||h)),this.toggleEvents(ce,o&&(b||m)),this.toggleEvents(ue,o&&d),this.toggleEvents(le,o&&g),this.scrollZoom=c,this.dragPan=l,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=b,this.touchRotate=m,this.keyboard=g}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,ie,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,ie,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=this.getCenter(t),i=Object(F.a)(r,2)[1],a=i-n,o=this.mapState.getViewportProps(),s=o.width,c=o.height,u=e/s,l=0;n>0?Math.abs(c-a)>5&&(l=n/(a-c)*1.2):n<0&&a>5&&(l=1-i/a),l=Math.min(1,Math.max(-1,l));var f=this.mapState.rotate({deltaScaleX:u,deltaScaleY:l});return this.updateViewport(f,ie,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,ie,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,ie,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,a=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-a)/180})}return this.updateViewport(e,ie,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},ae,{transitionInterpolator:new it({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,ae)}}]),t}(),he=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function pe(t){return"react-map-gl: `".concat(t,"` is removed.")}function de(t){return"Use `".concat(t,"` instead.")}function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};he.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=pe(e.old);e.new&&(n="".concat(n," ").concat(de(e.new))),console.warn(n)}}))}function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var ye=Object.assign({},At.propTypes,{maxZoom:C.a.number,minZoom:C.a.number,maxPitch:C.a.number,minPitch:C.a.number,onViewStateChange:C.a.func,onViewportChange:C.a.func,onInteractionStateChange:C.a.func,transitionDuration:C.a.oneOfType([C.a.number,C.a.string]),transitionInterpolator:C.a.object,transitionInterruption:C.a.number,transitionEasing:C.a.func,onTransitionStart:C.a.func,onTransitionInterrupt:C.a.func,onTransitionEnd:C.a.func,scrollZoom:C.a.bool,dragPan:C.a.bool,dragRotate:C.a.bool,doubleClickZoom:C.a.bool,touchZoom:C.a.bool,touchRotate:C.a.bool,keyboard:C.a.bool,onHover:C.a.func,onClick:C.a.func,onDblClick:C.a.func,onContextMenu:C.a.func,onMouseDown:C.a.func,onMouseMove:C.a.func,onMouseUp:C.a.func,onTouchStart:C.a.func,onTouchMove:C.a.func,onTouchEnd:C.a.func,onMouseEnter:C.a.func,onMouseLeave:C.a.func,onMouseOut:C.a.func,onWheel:C.a.func,touchAction:C.a.string,clickRadius:C.a.number,interactiveLayerIds:C.a.array,getCursor:C.a.func,controller:C.a.instanceOf(fe)}),me=Object.assign({},At.defaultProps,at,jt.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),Ae=function(t){Object(A.a)(n,t);var e=be(n);function n(t){var r;return Object(b.a)(this,n),r=e.call(this,t),Object(d.a)(Object(y.a)(r),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Object(d.a)(Object(y.a)(r),"_controller",void 0),Object(d.a)(Object(y.a)(r),"_eventManager",void 0),Object(d.a)(Object(y.a)(r),"_interactiveContext",void 0),Object(d.a)(Object(y.a)(r),"_width",0),Object(d.a)(Object(y.a)(r),"_height",0),Object(d.a)(Object(y.a)(r),"_eventCanvasRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(r),"_staticMapRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),Object(d.a)(Object(y.a)(r),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(t,e)})),Object(d.a)(Object(y.a)(r),"_onInteractionStateChange",(function(t){var e=t.isDragging,n=void 0!==e&&e;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(t)})),Object(d.a)(Object(y.a)(r),"_onResize",(function(t){var e=t.width,n=t.height;r._width=e,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:e,height:n})})),Object(d.a)(Object(y.a)(r),"_onViewportChange",(function(t,e,n){var i=r.props,a=i.onViewStateChange,o=i.onViewportChange;a&&a({viewState:t,interactionState:e,oldViewState:n}),o&&o(t,e,n)})),Object(d.a)(Object(y.a)(r),"_onLoad",(function(t){r.setState({isLoaded:!0}),r.props.onLoad(t)})),Object(d.a)(Object(y.a)(r),"_onEvent",(function(t,e){var n=r.props[t];n&&n(r._normalizeEvent(e))})),Object(d.a)(Object(y.a)(r),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchStart",t);break;default:r._onEvent("onMouseDown",t)}})),Object(d.a)(Object(y.a)(r),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchEnd",t);break;default:r._onEvent("onMouseUp",t)}})),Object(d.a)(Object(y.a)(r),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchMove",t);break;default:r._onEvent("onMouseMove",t)}if(!r.state.isDragging){var e,n=r.props,i=n.onHover,a=n.interactiveLayerIds;t=r._normalizeEvent(t),r.state.isLoaded&&(a||i)&&(e=r._getFeatures({pos:t.point,radius:r.props.clickRadius})),i&&(t.features=e,i(t));var o=Boolean(a&&e&&e.length>0),s=o&&!r.state.isHovering,c=!o&&r.state.isHovering;s&&r._onEvent("onMouseEnter",t),c&&r._onEvent("onMouseLeave",t),(s||c)&&r.setState({isHovering:o})}})),Object(d.a)(Object(y.a)(r),"_onClick",(function(t){var e=r.props,n=e.onClick,i=e.onNativeClick,a=e.onDblClick,o=e.doubleClickZoom,s=[],c=a||o;switch(t.type){case"anyclick":s.push(i),c||s.push(n);break;case"click":c&&s.push(n)}(s=s.filter(Boolean)).length&&((t=r._normalizeEvent(t)).features=r._getFeatures({pos:t.point,radius:r.props.clickRadius}),s.forEach((function(e){return e(t)})))})),ve(t),r._controller=t.controller||new fe,r._eventManager=new re(null,{touchAction:t.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return Object(m.a)(n,null,[{key:"supported",value:function(){return At.supported()}}]),Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius,i={},a=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var o=r,s=[[n[0]-o,n[1]+o],[n[0]+o,n[1]-o]];e=a&&a.queryRenderedFeatures(s,i)}else e=a&&a.queryRenderedFeatures(n,i);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],r=new T.a(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=r.unproject(n),t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.style,i=t.getCursor,a=Object.assign({position:"relative"},r,{width:e,height:n,cursor:i(this.state)});return f.createElement(ft.Provider,{value:this._interactiveContext},f.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},f.createElement(At,Object(v.a)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(f.PureComponent);function ge(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ge(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Object(qt.a)(t)&&"object"===Object(qt.a)(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(!e.hasOwnProperty(s))return!1;if(!ge(t[s],e[s]))return!1}return!0}return!1}function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(Ae,"propTypes",ye),Object(d.a)(Ae,"defaultProps",me);var Oe={type:C.a.string.isRequired,id:C.a.string},Ce=0,_e=function(t){Object(A.a)(n,t);var e=Be(n);function n(t){var r;return Object(b.a)(this,n),r=e.call(this,t),Object(d.a)(Object(y.a)(r),"id",void 0),Object(d.a)(Object(y.a)(r),"type",void 0),Object(d.a)(Object(y.a)(r),"_map",null),Object(d.a)(Object(y.a)(r),"_sourceOptions",{}),Object(d.a)(Object(y.a)(r),"_updateSource",(function(){var t=Object(y.a)(r),e=t.type;if(t._map){var n=Object(y.a)(r),i=n._sourceOptions,a=n.props;L(!a.id||a.id===r.id,"source id changed"),L(a.type===e,"source type changed");var o="",s=0;for(var c in a)"children"===c||"id"===c||ge(i[c],a[c])||(i[c]=a[c],o=c,s++);var u=r.getSource();u?s&&("geojson"===e?u.setData(i.data):"image"===e?u.updateImage({url:i.url,coordinates:i.coordinates}):"canvas"!==e&&"video"!==e||1!==s||"coordinates"!==o?console.warn("Unable to update <Source> prop: ".concat(o)):u.setCoordinates(i.coordinates)):r._createSource(i)}})),r.id=t.id||"jsx-source-".concat(Ce++),r.type=t.type,r}return Object(m.a)(n,[{key:"componentWillUnmount",value:function(){var t=this,e=this._map;e&&(e.off("styledata",this._updateSource),requestAnimationFrame((function(){e.style&&e.style._loaded&&e.removeSource(t.id)})))}},{key:"getSource",value:function(){var t=this._map;return t&&t.style&&t.getSource(this.id)}},{key:"_createSource",value:function(t){var e=this._map;e.style&&e.style._loaded&&e.addSource(this.id,t)}},{key:"_render",value:function(t){var e=this;return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateSource)),this._updateSource(),f.Children.map(this.props.children,(function(t){return Object(f.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return f.createElement(ft.Consumer,null,this._render.bind(this))}}]),n}(f.PureComponent);Object(d.a)(_e,"propTypes",Oe);var Ee=n("Ff2n");function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var we={type:C.a.string.isRequired,id:C.a.string,source:C.a.string,beforeId:C.a.string};var De=0,Ie=function(t){Object(A.a)(n,t);var e=je(n);function n(t){var r;return Object(b.a)(this,n),r=e.call(this,t),Object(d.a)(Object(y.a)(r),"id",void 0),Object(d.a)(Object(y.a)(r),"type",void 0),Object(d.a)(Object(y.a)(r),"_map",null),Object(d.a)(Object(y.a)(r),"_layerOptions",{}),Object(d.a)(Object(y.a)(r),"_updateLayer",(function(){var t=r._map;if(t){var e=Object(y.a)(r),n=e.props,i=e._layerOptions;if(L(!n.id||n.id===r.id,"layer id changed"),L(n.type===r.type,"layer type changed"),r.getLayer())try{!function(t,e,n,r){var i=n.layout,a=void 0===i?{}:i,o=n.paint,s=void 0===o?{}:o,c=n.filter,u=n.minzoom,l=n.maxzoom,f=n.beforeId,h=Object(Ee.a)(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==r.beforeId&&t.moveLayer(e,f),a!==r.layout)for(var p in a)ge(a[p],r.layout[p])||t.setLayoutProperty(e,p,a[p]);if(s!==r.paint)for(var d in s)ge(s[d],r.paint[d])||t.setPaintProperty(e,d,s[d]);for(var v in ge(c,r.filter)||t.setFilter(e,c),u===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,u,l),h)ge(h[v],r[v])||t.setLayerProperty(e,v,h[v])}(t,r.id,n,i),Object.assign(i,n)}catch(a){console.warn(a)}else r._createLayer()}})),r.id=t.id||"jsx-layer-".concat(De++),r.type=t.type,r}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var t=this._map;t&&(t.off("styledata",this._updateLayer),t.style&&t.style._loaded&&t.removeLayer(this.id))}},{key:"getLayer",value:function(){var t=this._map;return t&&t.style&&t.getLayer(this.id)}},{key:"_createLayer",value:function(){var t=this._map;if(t.style&&t.style._loaded){var e=Object.assign({},this.props);e.id=this.id,delete e.beforeId,t.addLayer(e,this.props.beforeId),this._layerOptions=e}}},{key:"_render",value:function(t){return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return f.createElement(ft.Consumer,null,this._render.bind(this))}}]),n}(f.PureComponent);function Te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(Ie,"propTypes",we);var Se={captureScroll:C.a.bool,captureDrag:C.a.bool,captureClick:C.a.bool,captureDoubleClick:C.a.bool},Re=function(t){Object(A.a)(n,t);var e=Te(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"_context",{}),Object(d.a)(Object(y.a)(t),"_events",null),Object(d.a)(Object(y.a)(t),"_containerRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(t),"_onScroll",(function(e){t.props.captureScroll&&e.stopPropagation()})),Object(d.a)(Object(y.a)(t),"_onDragStart",(function(e){t.props.captureDrag&&e.stopPropagation()})),Object(d.a)(Object(y.a)(t),"_onDblClick",(function(e){t.props.captureDoubleClick&&e.stopPropagation()})),Object(d.a)(Object(y.a)(t),"_onClick",(function(e){t.props.captureClick&&e.stopPropagation()})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},e.watch(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return f.createElement(ft.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(f.PureComponent);Object(d.a)(Re,"propTypes",Se),Object(d.a)(Re,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0});var xe=n("ReuC");function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var Fe=Object.assign({},Re.propTypes,{draggable:C.a.bool,onDrag:C.a.func,onDragEnd:C.a.func,onDragStart:C.a.func,offsetLeft:C.a.number,offsetTop:C.a.number}),Ge=Object.assign({},Re.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),Pe=function(t){Object(A.a)(n,t);var e=Me(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"state",{dragPos:null,dragOffset:null}),Object(d.a)(Object(y.a)(t),"_dragEvents",null),Object(d.a)(Object(y.a)(t),"_onDragStart",(function(e){var n=t.props,r=n.draggable,i=n.captureDrag;if((r||i)&&e.stopPropagation(),r){var a=t._getDragEventPosition(e),o=t._getDragEventOffset(e);t.setState({dragPos:a,dragOffset:o}),t._setupDragEvents();var s=t.props.onDragStart;if(s&&o){var c=Object.assign({},e);c.lngLat=t._getDragLngLat(a,o),s(c)}}})),Object(d.a)(Object(y.a)(t),"_onDrag",(function(e){e.stopPropagation();var n=t._getDragEventPosition(e);t.setState({dragPos:n});var r=t.props.onDrag,i=t.state.dragOffset;if(r&&i){var a=Object.assign({},e);a.lngLat=t._getDragLngLat(n,i),r(a)}})),Object(d.a)(Object(y.a)(t),"_onDragEnd",(function(e){var n=t.state,r=n.dragPos,i=n.dragOffset;e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents();var a=t.props.onDragEnd;if(a&&r&&i){var o=Object.assign({},e);o.lngLat=t._getDragLngLat(r,i),a(o)}})),Object(d.a)(Object(y.a)(t),"_onDragCancel",(function(e){e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents()})),t}return Object(m.a)(n,[{key:"componentWillUnmount",value:function(){Object(xe.a)(Object(B.a)(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,r=e.y,i=this._containerRef.current;if(i){var a=i.getBoundingClientRect();return[a.left-n,a.top-r]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,r=n.offsetLeft,i=n.offsetTop,a=this._getDraggedPosition(t,e),o=Object(F.a)(a,2),s=o[0],c=o[1];return this._context.viewport.unproject([s-r,c-i])}}]),n}(Re);Object(d.a)(Pe,"propTypes",Fe),Object(d.a)(Pe,"defaultProps",Ge);var ke="undefined"!=typeof window&&window.devicePixelRatio||1,Ue=function(t){return Math.round(t*ke)/ke},Le=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return Ue(e/100*r)/r*100};function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var Je=Object.assign({},Pe.propTypes,{className:C.a.string,longitude:C.a.number.isRequired,latitude:C.a.number.isRequired}),Ne=Object.assign({},Pe.defaultProps,{className:""}),Ke=function(t){Object(A.a)(n,t);var e=He(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"_control",null),t}return Object(m.a)(n,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,r=t.offsetLeft,i=t.offsetTop,a=this.state,o=a.dragPos,s=a.dragOffset;if(o&&s)return this._getDraggedPosition(o,s);var c=this._context.viewport.project([e,n]),u=Object(F.a)(c,2),l=u[0],f=u[1];return[l+=r,f+=i]}},{key:"_render",value:function(){var t=this._getPosition(),e=Object(F.a)(t,2),n=e[0],r=e[1],i="translate(".concat(Ue(n),"px, ").concat(Ue(r),"px)"),a=this._containerRef.current;if(this._control&&a)a.style.transform=i;else{var o=this.props,s=o.className,c=o.draggable,u=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:i,cursor:c?u?"grabbing":"grab":"auto"};this._control=f.createElement("div",{className:"mapboxgl-marker ".concat(s),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,Object(xe.a)(Object(B.a)(n.prototype),"render",this).call(this)}}]),n}(Pe);Object(d.a)(Ke,"propTypes",Je),Object(d.a)(Ke,"defaultProps",Ne);var ze={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Qe=Object.keys(ze);function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var Ve=Object.assign({},Re.propTypes,{className:C.a.string,longitude:C.a.number.isRequired,latitude:C.a.number.isRequired,altitude:C.a.number,offsetLeft:C.a.number,offsetTop:C.a.number,tipSize:C.a.number,closeButton:C.a.bool,closeOnClick:C.a.bool,anchor:C.a.oneOf(Object.keys(ze)),dynamicPosition:C.a.bool,sortByDepth:C.a.bool,onClose:C.a.func}),Ye=Object.assign({},Re.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Ze=function(t){Object(A.a)(n,t);var e=Xe(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"_closeOnClick",!1),Object(d.a)(Object(y.a)(t),"_contentRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(t),"_onClick",(function(e){if(t.props.captureClick&&e.stopPropagation(),t.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){t.props.onClose();var n=t._context.eventManager;n&&n.once("click",(function(t){return t.stopPropagation()}),e.target)}})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){Object(xe.a)(Object(B.a)(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,r=this.props,i=r.anchor,a=r.dynamicPosition,o=r.tipSize,s=this._contentRef.current;return s&&a?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.selfWidth,o=t.selfHeight,s=t.anchor,c=t.padding,u=void 0===c?0:c,l=ze[s],f=l.x,h=l.y,p=n-h*o,d=p+o;if(p<u)for(;p<u&&h>=.5;)h-=.5,p+=.5*o;else if(d>i-u)for(;d>i-u&&h<=.5;)h+=.5,d-=.5*o;var v=e-f*a,b=v+a,y=.5;if(.5===h&&(f=Math.floor(f),y=1),v<u)for(;v<u&&f>=y;)f-=y,v+=y*a;else if(b>r-u)for(;b>r-u&&f<=1-y;)f+=y,b-=y*a;return Qe.find((function(t){var e=ze[t];return e.x===f&&e.y===h}))||s}({x:t,y:e,anchor:i,padding:o,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(t,e,n,r){var i=this._context.viewport,a=this.props,o=a.offsetLeft,s=a.offsetTop,c=a.sortByDepth,u=ze[r],l=t+o,f=e+s,h=this._containerRef.current,p=Le(h,100*-u.x),d=Le(h,100*-u.y,"y"),v={position:"absolute",transform:"\n        translate(".concat(p,"%, ").concat(d,"%)\n        translate(").concat(Ue(l),"px, ").concat(Ue(f),"px)\n      "),display:void 0,zIndex:void 0};return c?(n>1||n<-1||t<0||t>i.width||e<0||e>i.height?v.display="none":v.zIndex=Math.floor((1-n)/2*1e5),v):v}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return f.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return f.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&f.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.altitude,a=this._context.viewport.project([n,r,i]),o=Object(F.a)(a,3),s=o[0],c=o[1],u=o[2],l=this._getPosition(s,c),h=this._getContainerStyle(s,c,u,l);return f.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(e),style:h,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),n}(Re);Object(d.a)(Ze,"propTypes",Ve),Object(d.a)(Ze,"defaultProps",Ye);var We=n("oJR1");function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}var $e,tn=Object.assign({},Re.propTypes,{className:C.a.string,container:C.a.object}),en=Object.assign({},Re.defaultProps,{className:"",container:null}),nn=function(t){Object(A.a)(n,t);var e=qe(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"state",{isFullscreen:!1,showButton:!1}),Object(d.a)(Object(y.a)(t),"_mapboxFullscreenControl",null),Object(d.a)(Object(y.a)(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),Object(d.a)(Object(y.a)(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new M.a.FullscreenControl({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),We.a.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){We.a.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return f.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},f.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props.className,e=this.state.isFullscreen?"shrink":"fullscreen";return f.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},this._renderButton(e,"Toggle fullscreen",this._onClickFullscreen))}}]),n}(Re);function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(nn,"propTypes",tn),Object(d.a)(nn,"defaultProps",en);var an=Object.assign({},jt.defaultProps,{transitionDuration:500}),on=function(){},sn=Object.assign({},Re.propTypes,{className:C.a.string,style:C.a.object,label:C.a.string,auto:C.a.bool,positionOptions:C.a.object,fitBoundsOptions:C.a.object,trackUserLocation:C.a.bool,showUserLocation:C.a.bool,onViewStateChange:C.a.func,onViewportChange:C.a.func,onGeolocate:C.a.func}),cn=Object.assign({},Re.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),un=function(t){Object(A.a)(n,t);var e=rn(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"state",{supportsGeolocation:!1,markerPosition:null}),Object(d.a)(Object(y.a)(t),"_mapboxGeolocateControl",null),Object(d.a)(Object(y.a)(t),"_geolocateButtonRef",Object(f.createRef)()),Object(d.a)(Object(y.a)(t),"_setupMapboxGeolocateControl",(function(e){if(e){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in t.props&&null!==t.props[e]&&(n[e]=t.props[e])}));var r=new M.a.GeolocateControl(n);t._mapboxGeolocateControl=r,r._watchState="OFF",r._geolocateButton=t._geolocateButtonRef.current,r.options.trackUserLocation&&r._geolocateButton&&r._geolocateButton.setAttribute("aria-pressed","false"),r._updateMarker=t._updateMarker,r._updateCamera=t._updateCamera,r._setup=!0;var i=t._context.eventManager;r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",t.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Object(d.a)(Object(y.a)(t),"_triggerGeolocate",(function(){var e=t._mapboxGeolocateControl;return e._map=t._context.map,t.props.showUserLocation&&(e.on("geolocate",t._updateMarker),e.on("trackuserlocationend",t._updateMarker)),t._mapboxGeolocateControl.trigger()})),Object(d.a)(Object(y.a)(t),"_updateMarker",(function(e){e&&t.setState({markerPosition:e.coords})})),Object(d.a)(Object(y.a)(t),"_getBounds",(function(t){var e=new M.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),Object(d.a)(Object(y.a)(t),"_updateCamera",(function(e){var n=t._context.viewport,r=t._getBounds(e),i=new T.a(n).fitBounds(r),a=i.longitude,o=i.latitude,s=i.zoom,c=Object.assign({},n,{longitude:a,latitude:o,zoom:s}),u=new ut(c),l=Object.assign({},u.getViewportProps(),an),f=t.props.onViewportChange||t._context.onViewportChange||on;(t.props.onViewStateChange||t._context.onViewStateChange||on)({viewState:l}),f(l)})),Object(d.a)(Object(y.a)(t),"_renderButton",(function(e,n,r){return f.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:t._geolocateButtonRef,type:"button",title:n,onClick:r},f.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),Object(d.a)(Object(y.a)(t),"_renderMarker",(function(){var e=t.state.markerPosition,n=t.props.showUserLocation;return e&&n?f.createElement(Ke,{key:"location-maker",className:"mapboxgl-user-location-dot",longitude:e.longitude,latitude:e.latitude,onContextMenu:function(t){return t.preventDefault()},captureDrag:!1,captureDoubleClick:!1}):null})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;(void 0!==$e?Promise.resolve($e):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return $e="denied"!==t.state})):($e=Boolean(window.navigator.geolocation),Promise.resolve($e))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e),e&&t.props.auto&&t._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(t){this.state.supportsGeolocation&&!t.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style,r=t.label;return f.createElement("div",null,this._renderMarker(),f.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n,onContextMenu:function(t){return t.preventDefault()}},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(Re);function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(un,"propTypes",sn),Object(d.a)(un,"defaultProps",cn);var fn=function(){},hn=Object.assign({},Re.propTypes,{className:C.a.string,onViewStateChange:C.a.func,onViewportChange:C.a.func,showCompass:C.a.bool,showZoom:C.a.bool,zoomInLabel:C.a.string,zoomOutLabel:C.a.string,compassLabel:C.a.string}),pn=Object.assign({},Re.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function dn(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var a=n[i]||0,o=r[i]||0;if(a<o)return-1;if(a>o)return 1}return 0}(t,"1.6.0")>=0?2:1}var vn=function(t){Object(A.a)(n,t);var e=ln(n);function n(t){var r;return Object(b.a)(this,n),r=e.call(this,t),Object(d.a)(Object(y.a)(r),"_uiVersion",void 0),Object(d.a)(Object(y.a)(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),Object(d.a)(Object(y.a)(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),Object(d.a)(Object(y.a)(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),ve(t),r}return Object(m.a)(n,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new ut(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),ae),i=this.props.onViewportChange||this._context.onViewportChange||fn;(this.props.onViewStateChange||this._context.onViewStateChange||fn)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing,e={transform:"rotate(".concat(-t,"deg)")};return 2===this._uiVersion?f.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:e}):f.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:e})}},{key:"_renderButton",value:function(t,e,n,r){return f.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||f.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom,i=t.zoomInLabel,a=t.zoomOutLabel,o=t.compassLabel;if(!this._uiVersion){var s=this._context.map;this._uiVersion=s?dn(s.version):2}return f.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in",i,this._onZoomIn),r&&this._renderButton("zoom-out",a,this._onZoomOut),n&&this._renderButton("compass",o,this._onResetNorth,this._renderCompass()))}}]),n}(Re);function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(vn,"propTypes",hn),Object(d.a)(vn,"defaultProps",pn);var yn=Object.assign({},Re.propTypes,{maxWidth:C.a.number,unit:C.a.oneOf(["imperial","metric","nautical"])}),mn=Object.assign({},Re.defaultProps,{maxWidth:100,unit:"metric"}),An=function(t){Object(A.a)(n,t);var e=bn(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"_control",null),Object(d.a)(Object(y.a)(t),"_mapboxScaleControl",null),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=new M.a.ScaleControl;t._map=this._context.map,t._container=this._containerRef.current,this._mapboxScaleControl=t,this._update()}},{key:"_update",value:function(){var t=this._mapboxScaleControl;t&&(t.options=this.props,t._onMove())}},{key:"_render",value:function(){return this._control=this._control||f.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(Re);function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(An,"propTypes",yn),Object(d.a)(An,"defaultProps",mn);var Bn=Object.assign({},Re.propTypes,{redraw:C.a.func.isRequired}),On=function(t){Object(A.a)(n,t);var e=gn(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d.a)(Object(y.a)(t),"_canvas",void 0),Object(d.a)(Object(y.a)(t),"_ctx",void 0),Object(d.a)(Object(y.a)(t),"_redraw",(function(){var e=t._ctx;if(e){var n=We.b.devicePixelRatio||1;e.save(),e.scale(n,n);var r=t._context,i=r.viewport,a=r.isDragging;t.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:a,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=We.b.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),f.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(Re);function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(On,"propTypes",Bn),Object(d.a)(On,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var _n=Object.assign({},Re.propTypes,{redraw:C.a.func.isRequired,style:C.a.object}),En=function(t){Object(A.a)(n,t);var e=Cn(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return f.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(Re);function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}Object(d.a)(En,"propTypes",_n),Object(d.a)(En,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var wn=Object.assign({},Re.propTypes,{redraw:C.a.func.isRequired,style:C.a.object}),Dn=function(t){Object(A.a)(n,t);var e=jn(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return f.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(Re);Object(d.a)(Dn,"propTypes",wn),Object(d.a)(Dn,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});M.a&&M.a.setRTLTextPlugin;var In=n("4ErG"),Tn=n("PSaa"),Sn=n("o0o1"),Rn=n.n(Sn),xn=(n("d1Eg"),n("HaE+")),Mn=n("oCaT"),Fn=1,Gn=2,Pn="empty",kn="scenegraph",Un="pointcloud",Ln="TILES3D",Hn="geometricError",Jn={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"},Nn=(Object.keys(Jn),n("DYWF"));function Kn(t,e,n){Object(Nn.a)(t instanceof ArrayBuffer);var r=new TextDecoder("utf8"),i=new Uint8Array(t,e,n);return r.decode(i)}function zn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new DataView(t);return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}var Qn={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.1.8",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},Xn=n("KQm4");function Vn(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=t.POSITION?t.POSITION.value:[],c=s&&s.length,u=0;u<c;u+=3){var l=s[u],f=s[u+1],h=s[u+2];e=l<e?l:e,n=f<n?f:n,r=h<r?h:r,i=l>i?l:i,a=f>a?f:a,o=h>o?h:o}return[[e,n,r],[i,a,o]]}function Yn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Zn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wn=function(){function t(e,n){Object(b.a)(this,t),Object(d.a)(this,"fields",void 0),Object(d.a)(this,"metadata",void 0),function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function(t){var e,n={},r=Yn(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.name]&&console.warn("Schema: duplicated field name",i.name,i),n[i.name]=!0}}catch(a){r.e(a)}finally{r.f()}}(e),this.fields=e,this.metadata=n||new Map}return Object(m.a)(t,[{key:"compareTo",value:function(t){if(this.metadata!==t.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(var e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}},{key:"select",value:function(){for(var e=Object.create(null),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];e[s]=!0}var c=this.fields.filter((function(t){return e[t.name]}));return new t(c,this.metadata)}},{key:"selectAt",value:function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.map((function(t){return e.fields[t]})).filter(Boolean);return new t(a,this.metadata)}},{key:"assign",value:function(e){var n,r=this.metadata;if(e instanceof t){var i=e;n=i.fields,r=qn(qn(new Map,this.metadata),i.metadata)}else n=e;var a,o=Object.create(null),s=Yn(this.fields);try{for(s.s();!(a=s.n()).done;){var c=a.value;o[c.name]=c}}catch(h){s.e(h)}finally{s.f()}var u,l=Yn(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;o[f.name]=f}}catch(h){l.e(h)}finally{l.f()}return new t(Object.values(o),r)}}]),t}();function qn(t,e){return new Map([].concat(Object(Xn.a)(t||new Map),Object(Xn.a)(e||new Map)))}var $n,tr,er,nr,rr=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;Object(b.a)(this,t),Object(d.a)(this,"name",void 0),Object(d.a)(this,"type",void 0),Object(d.a)(this,"nullable",void 0),Object(d.a)(this,"metadata",void 0),this.name=e,this.type=n,this.nullable=r,this.metadata=i}return Object(m.a)(t,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new t(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),t}();function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(B.a)(t);if(e){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(g.a)(this,n)}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}($n||($n={}));var ar=function(){function t(){Object(b.a)(this,t)}return Object(m.a)(t,[{key:"typeId",get:function(){return $n.NONE}},{key:"compareTo",value:function(t){return this===t}}],[{key:"isNull",value:function(t){return t&&t.typeId===$n.Null}},{key:"isInt",value:function(t){return t&&t.typeId===$n.Int}},{key:"isFloat",value:function(t){return t&&t.typeId===$n.Float}},{key:"isBinary",value:function(t){return t&&t.typeId===$n.Binary}},{key:"isUtf8",value:function(t){return t&&t.typeId===$n.Utf8}},{key:"isBool",value:function(t){return t&&t.typeId===$n.Bool}},{key:"isDecimal",value:function(t){return t&&t.typeId===$n.Decimal}},{key:"isDate",value:function(t){return t&&t.typeId===$n.Date}},{key:"isTime",value:function(t){return t&&t.typeId===$n.Time}},{key:"isTimestamp",value:function(t){return t&&t.typeId===$n.Timestamp}},{key:"isInterval",value:function(t){return t&&t.typeId===$n.Interval}},{key:"isList",value:function(t){return t&&t.typeId===$n.List}},{key:"isStruct",value:function(t){return t&&t.typeId===$n.Struct}},{key:"isUnion",value:function(t){return t&&t.typeId===$n.Union}},{key:"isFixedSizeBinary",value:function(t){return t&&t.typeId===$n.FixedSizeBinary}},{key:"isFixedSizeList",value:function(t){return t&&t.typeId===$n.FixedSizeList}},{key:"isMap",value:function(t){return t&&t.typeId===$n.Map}},{key:"isDictionary",value:function(t){return t&&t.typeId===$n.Dictionary}}]),t}();tr=Symbol.toStringTag;var or=function(t){Object(A.a)(n,t);var e=ir(n);function n(t,r){var i;return Object(b.a)(this,n),i=e.call(this),Object(d.a)(Object(y.a)(i),"isSigned",void 0),Object(d.a)(Object(y.a)(i),"bitWidth",void 0),i.isSigned=t,i.bitWidth=r,i}return Object(m.a)(n,[{key:"typeId",get:function(){return $n.Int}},{key:tr,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),n}(ar),sr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!0,8)}return n}(or),cr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!0,16)}return n}(or),ur=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!0,32)}return n}(or),lr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!1,8)}return n}(or),fr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!1,16)}return n}(or),hr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,!1,32)}return n}(or),pr=32,dr=64;er=Symbol.toStringTag;var vr=function(t){Object(A.a)(n,t);var e=ir(n);function n(t){var r;return Object(b.a)(this,n),r=e.call(this),Object(d.a)(Object(y.a)(r),"precision",void 0),r.precision=t,r}return Object(m.a)(n,[{key:"typeId",get:function(){return $n.Float}},{key:er,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),n}(ar),br=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,pr)}return n}(vr),yr=function(t){Object(A.a)(n,t);var e=ir(n);function n(){return Object(b.a)(this,n),e.call(this,dr)}return n}(vr);Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;nr=Symbol.toStringTag;var mr=function(t){Object(A.a)(n,t);var e=ir(n);function n(t,r){var i;return Object(b.a)(this,n),i=e.call(this),Object(d.a)(Object(y.a)(i),"listSize",void 0),Object(d.a)(Object(y.a)(i),"children",void 0),i.listSize=t,i.children=[r],i}return Object(m.a)(n,[{key:"typeId",get:function(){return $n.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:nr,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),n}(ar);Symbol.toStringTag;function Ar(t,e,n){var r=function(t){switch(t.constructor){case Int8Array:return new sr;case Uint8Array:return new lr;case Int16Array:return new cr;case Uint16Array:return new fr;case Int32Array:return new ur;case Uint32Array:return new hr;case Float32Array:return new br;case Float64Array:return new yr;default:throw new Error("array type not supported")}}(e.value),i=n||function(t){var e=new Map;"byteOffset"in t&&e.set("byteOffset",t.byteOffset.toString(10));"byteStride"in t&&e.set("byteStride",t.byteStride.toString(10));"normalized"in t&&e.set("normalized",t.normalized.toString());return e}(e);return new rr(t,new mr(e.size,new rr("value",r)),!1,i)}function gr(t,e,n){var r=Or(e.metadata),i=[],a=function(t){var e={};for(var n in t){var r=t[n];e[r.name||"undefined"]=r}return e}(e.attributes);for(var o in t){var s=Br(o,t[o],a[o]);i.push(s)}if(n){var c=Br("indices",n);i.push(c)}return new Wn(i,r)}function Br(t,e,n){return Ar(t,e,n?Or(n.metadata):void 0)}function Or(t){var e=new Map;for(var n in t)e.set("".concat(n,".string"),JSON.stringify(t[n]));return e}function Cr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wr={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Dr={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Ir=function(){function t(e){Object(b.a)(this,t),Object(d.a)(this,"draco",void 0),Object(d.a)(this,"decoder",void 0),Object(d.a)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return Object(m.a)(t,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.draco.DecoderBuffer;n.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);var r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var a;switch(r){case this.draco.TRIANGULAR_MESH:a=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:a=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!a.ok()||!i.ptr){var o="DRACO decompression failed: ".concat(a.error_msg());throw new Error(o)}var s=this._getDracoLoaderData(i,r,e),c=this._getMeshData(i,s,e),u=Vn(c.attributes),l=gr(c.attributes,s,c.indices),f=jr(jr({loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:u}},c),{},{schema:l});return f}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(t,e,n){var r=this._getTopLevelMetadata(t),i=this._getDracoAttributes(t,n);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:r,attributes:i}}},{key:"_getDracoAttributes",value:function(t,e){for(var n={},r=0;r<t.num_attributes();r++){var i=this.decoder.GetAttribute(t,r),a=this._getAttributeMetadata(t,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:a};var o=this._getQuantizationTransform(i,e);o&&(n[i.unique_id()].quantization_transform=o);var s=this._getOctahedronTransform(i,e);s&&(n[i.unique_id()].octahedron_transform=s)}return n}},{key:"_getMeshData",value:function(t,e,n){var r=this._getMeshAttributes(e,t,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");if(t instanceof this.draco.Mesh)switch(n.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(t),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(t),size:1}}}return{topology:"point-list",mode:0,attributes:r}}},{key:"_getMeshAttributes",value:function(t,e,n){for(var r={},i=0,a=Object.values(t.attributes);i<a.length;i++){var o=a[i],s=this._deduceAttributeName(o,n);o.name=s;var c=this._getAttributeValues(e,o),u=c.value,l=c.size;r[s]={value:u,size:l,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}},{key:"_getTriangleListIndices",value:function(t){var e=3*t.num_faces(),n=4*e,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(t,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,e).slice()}finally{this.draco._free(r)}}},{key:"_getTriangleStripIndices",value:function(t){var e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(e)}finally{this.draco.destroy(e)}}},{key:"_getAttributeValues",value:function(t,e){var n,r=Dr[e.data_type],i=e.num_components,a=t.num_points()*i,o=a*r.BYTES_PER_ELEMENT,s=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,r),c=this.draco._malloc(o);try{var u=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,u,s,o,c),n=new r(this.draco.HEAPF32.buffer,c,a).slice()}finally{this.draco._free(c)}return{value:n,size:i}}},{key:"_deduceAttributeName",value:function(t,e){for(var n=t.unique_id,r=0,i=Object.entries(e.extraAttributes||{});r<i.length;r++){var a=Object(F.a)(i[r],2),o=a[0];if(a[1]===n)return o}var s=t.attribute_type;for(var c in wr){if(this.draco[c]===s)return wr[c]}var u=e.attributeNameEntry||"name";return t.metadata[u]?t.metadata[u].string:"CUSTOM_ATTRIBUTE_".concat(n)}},{key:"_getTopLevelMetadata",value:function(t){var e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}},{key:"_getAttributeMetadata",value:function(t,e){var n=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(n)}},{key:"_getDracoMetadata",value:function(t){if(!t||!t.ptr)return{};for(var e={},n=this.metadataQuerier.NumEntries(t),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(t,r);e[i]=this._getDracoMetadataField(t,i)}return e}},{key:"_getDracoMetadataField",value:function(t,e){var n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,n);var r=function(t){for(var e=t.size(),n=new Int32Array(e),r=0;r<e;r++)n[r]=t.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:r}}finally{this.draco.destroy(n)}}},{key:"_disableAttributeTransforms",value:function(t){var e,n=t.quantizedAttributes,r=void 0===n?[]:n,i=t.octahedronAttributes,a=void 0===i?[]:i,o=Cr([].concat(Object(Xn.a)(r),Object(Xn.a)(a)));try{for(o.s();!(e=o.n()).done;){var s=e.value;this.decoder.SkipAttributeTransform(this.draco[s])}}catch(c){o.e(c)}finally{o.f()}}},{key:"_getQuantizationTransform",value:function(t,e){var n=this,r=e.quantizedAttributes,i=void 0===r?[]:r,a=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(t))return{quantization_bits:o.quantization_bits(),range:o.range(),min_values:new Float32Array([1,2,3]).map((function(t){return o.min_value(t)}))}}finally{this.draco.destroy(o)}}return null}},{key:"_getOctahedronTransform",value:function(t,e){var n=this,r=e.octahedronAttributes,i=void 0===r?[]:r,a=t.attribute_type();if(i.map((function(t){return n.decoder[t]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(t))return{quantization_bits:o.quantization_bits()}}finally{this.draco.destroy(o)}}return null}}]),t}();var Tr=n("A67p"),Sr=n(16);var Rr={};function xr(t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(e=Fr(e,n,r)),Rr[e]=Rr[e]||Gr(e),t.next=6,Rr[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fr(t,e,n){if(t.startsWith("http"))return t;var r=n.modules||{};return r[t]?r[t]:Tr.b?n.CDN?(function(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(e,"@").concat("3.1.8","/dist/libs/").concat(t)):Tr.c?"../src/libs/".concat(t):"modules/".concat(e,"/src/libs/").concat(t):"modules/".concat(e,"/dist/libs/").concat(t)}function Gr(t){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(Tr.b){t.next=20;break}if(t.prev=8,t.t0=Sr&&Sr.requireFromFile,!t.t0){t.next=14;break}return t.next=13,Sr.requireFromFile(e);case 13:t.t0=t.sent;case 14:return t.abrupt("return",t.t0);case 17:return t.prev=17,t.t1=t.catch(8),t.abrupt("return",null);case 20:if(!Tr.c){t.next=22;break}return t.abrupt("return",importScripts(e));case 22:return t.next=24,fetch(e);case 24:return r=t.sent,t.next=27,r.text();case 27:return i=t.sent,t.abrupt("return",kr(i,e));case 29:case"end":return t.stop()}}),t,null,[[8,17]])})))).apply(this,arguments)}function kr(t,e){if(!Tr.b)return Sr.requireFromString&&Sr.requireFromString(t,e);if(Tr.c)return eval.call(Tr.a,t),null;var n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch(r){n.text=t}return document.body.appendChild(n),null}function Ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ur(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hr,Jr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),Nr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),Kr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function zr(t){return Qr.apply(this,arguments)}function Qr(){return(Qr=Object(xn.a)(Rn.a.mark((function t(e){var n;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.modules||{},Hr=n.draco3d?Hr||n.draco3d.createDecoderModule({}).then((function(t){return{draco:t}})):Hr||Xr(e),t.next=4,Hr;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xr(t){return Vr.apply(this,arguments)}function Vr(){return(Vr=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,xr(Jr,"draco",e);case 5:return n=t.sent,t.abrupt("break",21);case 7:return t.t1=Promise,t.next=10,xr(Nr,"draco",e);case 10:return t.t2=t.sent,t.next=13,xr(Kr,"draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:i=t.sent,a=Object(F.a)(i,2),n=a[0],r=a[1];case 21:return n=n||globalThis.DracoDecoderModule,t.next=24,Yr(n,r);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yr(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(Lr(Lr({},n),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}function Zr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qr=Wr(Wr({},Qn),{},{parse:function(t,e){return $r.apply(this,arguments)}});function $r(){return($r=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zr(n);case 2:return r=t.sent,i=r.draco,a=new Ir(i),t.prev=5,t.abrupt("return",a.parseSync(e,null==n?void 0:n.draco));case 7:return t.prev=7,a.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}function ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ni,ri={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},ii=ei(ei({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}),ri),ai=n("SDD5"),oi=(ni={},Object(d.a)(ni,ri.DOUBLE,Float64Array),Object(d.a)(ni,ri.FLOAT,Float32Array),Object(d.a)(ni,ri.UNSIGNED_SHORT,Uint16Array),Object(d.a)(ni,ri.UNSIGNED_INT,Uint32Array),Object(d.a)(ni,ri.UNSIGNED_BYTE,Uint8Array),Object(d.a)(ni,ri.BYTE,Int8Array),Object(d.a)(ni,ri.SHORT,Int16Array),Object(d.a)(ni,ri.INT,Int32Array),ni),si={DOUBLE:ri.DOUBLE,FLOAT:ri.FLOAT,UNSIGNED_SHORT:ri.UNSIGNED_SHORT,UNSIGNED_INT:ri.UNSIGNED_INT,UNSIGNED_BYTE:ri.UNSIGNED_BYTE,BYTE:ri.BYTE,SHORT:ri.SHORT,INT:ri.INT},ci=function(){function t(){Object(b.a)(this,t)}return Object(m.a)(t,null,[{key:"fromTypedArray",value:function(t){for(var e in t=ArrayBuffer.isView(t)?t.constructor:t,oi){if(oi[e]===t)return e}throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(t){var e=si[t];if(!e)throw new Error("Failed to convert GL type");return e}},{key:"getArrayType",value:function(t){switch(t){case ri.UNSIGNED_SHORT_5_6_5:case ri.UNSIGNED_SHORT_4_4_4_4:case ri.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var e=oi[t];if(!e)throw new Error("Failed to convert GL type");return e}}},{key:"getByteSize",value:function(e){return t.getArrayType(e).BYTES_PER_ELEMENT}},{key:"validate",value:function(e){return Boolean(t.getArrayType(e))}},{key:"createTypedArray",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(n.byteLength-r)/t.getByteSize(e));var a=t.getArrayType(e);return new a(n,r,i)}}]),t}(),ui=function(){function t(e,n){Object(b.a)(this,t),Object(d.a)(this,"json",void 0),Object(d.a)(this,"buffer",void 0),Object(d.a)(this,"featuresLength",0),Object(d.a)(this,"_cachedTypedArrays",{}),this.json=e,this.buffer=n}return Object(m.a)(t,[{key:"getExtension",value:function(t){return this.json.extensions&&this.json.extensions[t]}},{key:"hasProperty",value:function(t){return Boolean(this.json[t])}},{key:"getGlobalProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.json[t];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(t,e,n,1,r.byteOffset):r}},{key:"getPropertyArray",value:function(t,e,n){var r=this.json[t];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(e=ci.fromName(r.componentType)),this._getTypedArrayFromBinary(t,e,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(t,e,r)}},{key:"getProperty",value:function(t,e,n,r,i){var a=this.json[t];if(!a)return a;var o=this.getPropertyArray(t,e,n);if(1===n)return o[r];for(var s=0;s<n;++s)i[s]=o[n*r+s];return i}},{key:"_getTypedArrayFromBinary",value:function(t,e,n,r,i){var a=this._cachedTypedArrays,o=a[t];return o||(o=ci.createTypedArray(e,this.buffer.buffer,this.buffer.byteOffset+i,r*n),a[t]=o),o}},{key:"_getTypedArrayFromArray",value:function(t,e,n){var r=this._cachedTypedArrays,i=r[t];return i||(i=ci.createTypedArray(e,n),r[t]=i),i}}]),t}(),li={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fi={SCALAR:function(t,e){return t[e]},VEC2:function(t,e){return[t[2*e+0],t[2*e+1]]},VEC3:function(t,e){return[t[3*e+0],t[3*e+1],t[3*e+2]]},VEC4:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT2:function(t,e){return[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]]},MAT3:function(t,e){return[t[9*e+0],t[9*e+1],t[9*e+2],t[9*e+3],t[9*e+4],t[9*e+5],t[9*e+6],t[9*e+7],t[9*e+8]]},MAT4:function(t,e){return[t[16*e+0],t[16*e+1],t[16*e+2],t[16*e+3],t[16*e+4],t[16*e+5],t[16*e+6],t[16*e+7],t[16*e+8],t[16*e+9],t[16*e+10],t[16*e+11],t[16*e+12],t[16*e+13],t[16*e+14],t[16*e+15]]}},hi={SCALAR:function(t,e,n){e[n]=t},VEC2:function(t,e,n){e[2*n+0]=t[0],e[2*n+1]=t[1]},VEC3:function(t,e,n){e[3*n+0]=t[0],e[3*n+1]=t[1],e[3*n+2]=t[2]},VEC4:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT2:function(t,e,n){e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT3:function(t,e,n){e[9*n+0]=t[0],e[9*n+1]=t[1],e[9*n+2]=t[2],e[9*n+3]=t[3],e[9*n+4]=t[4],e[9*n+5]=t[5],e[9*n+6]=t[6],e[9*n+7]=t[7],e[9*n+8]=t[8],e[9*n+9]=t[9]},MAT4:function(t,e,n){e[16*n+0]=t[0],e[16*n+1]=t[1],e[16*n+2]=t[2],e[16*n+3]=t[3],e[16*n+4]=t[4],e[16*n+5]=t[5],e[16*n+6]=t[6],e[16*n+7]=t[7],e[16*n+8]=t[8],e[16*n+9]=t[9],e[16*n+10]=t[10],e[16*n+11]=t[11],e[16*n+12]=t[12],e[16*n+13]=t[13],e[16*n+14]=t[14],e[16*n+15]=t[15]}};var pi=function(t){return void 0!==t};function di(t,e,n){if(!e)return null;var r=t.getExtension("3DTILES_batch_table_hierarchy"),i=e.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),e.extensions=e.extensions||{},e.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(t,e){var n,r,i,a,o=t.instancesLength,s=t.classes,c=t.classIds,u=t.parentCounts,l=t.parentIds,f=o;pi(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),c=i.createArrayBufferView(e.buffer,e.byteOffset+c.byteOffset,o));if(pi(u))for(pi(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),u=i.createArrayBufferView(e.buffer,e.byteOffset+u.byteOffset,o)),a=new Uint16Array(o),f=0,n=0;n<o;++n)a[n]=f,f+=u[n];pi(l)&&pi(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),l=i.createArrayBufferView(e.buffer,e.byteOffset+l.byteOffset,f));var h=s.length;for(n=0;n<h;++n){var p=s[n].length,d=s[n].instances,v=getBinaryProperties(p,d,e);s[n].instances=combine(v,d)}var b=new Array(h).fill(0),y=new Uint16Array(o);for(n=0;n<o;++n)r=c[n],y[n]=b[r],++b[r];var m={classes:s,classIds:c,classIndexes:y,parentCounts:u,parentIndexes:a,parentIds:l};return function(t){for(var e=t.classIds.length,n=0;n<e;++n)bi(t,n,stack)}(m),m}(r,n):null}function vi(t,e,n){if(t){var r=t.parentCounts;return t.parentIds?n(t,e):r>0?function(t,e,n){var r=t.classIds,i=t.parentCounts,a=t.parentIds,o=t.parentIndexes,s=r.length,c=scratchVisited;c.length=Math.max(c.length,s);var u=++marker,l=scratchStack;l.length=0,l.push(e);for(;l.length>0;)if(e=l.pop(),c[e]!==u){c[e]=u;var f=n(t,e);if(pi(f))return f;for(var h=i[e],p=o[e],d=0;d<h;++d){var v=a[p+d];v!==e&&l.push(v)}}return null}(t,e,n):function(t,e,n){var r=!0;for(;r;){var i=n(t,e);if(pi(i))return i;var a=t.parentIds[e];r=a!==e,e=a}throw new Error("traverseHierarchySingleParent")}(t,e,n)}}function bi(t,e,n){var r=t.parentCounts,i=t.parentIds,a=t.parentIndexes,o=t.classIds.length;if(pi(i)){assert(e<o,"Parent index ".concat(e," exceeds the total number of instances: ").concat(o)),assert(-1===n.indexOf(e),"Circular dependency detected in the batch table hierarchy."),n.push(e);for(var s=pi(r)?r[e]:1,c=pi(r)?a[e]:e,u=0;u<s;++u){var l=i[c+u];l!==e&&bi(t,l,n)}n.pop(e)}}function yi(t){return null!=t}var mi=function(t,e){return t},Ai={HIERARCHY:!0,extensions:!0,extras:!0},gi=function(){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var o in Object(b.a)(this,t),Object(d.a)(this,"json",void 0),Object(d.a)(this,"binary",void 0),Object(d.a)(this,"featureCount",void 0),Object(d.a)(this,"_extensions",void 0),Object(d.a)(this,"_properties",void 0),Object(d.a)(this,"_binaryProperties",void 0),Object(d.a)(this,"_hierarchy",void 0),Object(Nn.a)(r>=0),this.json=e||{},this.binary=n,this.featureCount=r,this._extensions=(null===(i=this.json)||void 0===i?void 0:i.extensions)||{},this._properties={},this.json)Ai[o]||(this._properties[o]=this.json[o]);this._binaryProperties=this._initializeBinaryProperties(),a["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=di(this,this.json,this.binary))}return Object(m.a)(t,[{key:"getExtension",value:function(t){return this.json&&this.json.extensions&&this.json.extensions[t]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(t,e){return this._checkBatchId(t),Object(Nn.a)("string"==typeof e,e),!!this._hierarchy&&yi(vi(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return t.classes[r].name===e})))}},{key:"isExactClass",value:function(t,e){return Object(Nn.a)("string"==typeof e,e),this.getExactClassName(t)===e}},{key:"getExactClassName",value:function(t){if(this._checkBatchId(t),this._hierarchy){var e=this._hierarchy.classIds[t];return this._hierarchy.classes[e].name}}},{key:"hasProperty",value:function(t,e){return this._checkBatchId(t),Object(Nn.a)("string"==typeof e,e),yi(this._properties[e])||this._hasPropertyInHierarchy(t,e)}},{key:"getPropertyNames",value:function(t,e){var n;this._checkBatchId(t),(e=yi(e)?e:[]).length=0;var r=Object.keys(this._properties);return(n=e).push.apply(n,Object(Xn.a)(r)),this._hierarchy&&this._getPropertyNamesInHierarchy(t,e),e}},{key:"getProperty",value:function(t,e){if(this._checkBatchId(t),Object(Nn.a)("string"==typeof e,e),this._binaryProperties){var n=this._binaryProperties[e];if(yi(n))return this._getBinaryProperty(n,t)}var r=this._properties[e];if(yi(r))return mi(r[t]);if(this._hierarchy){var i=this._getHierarchyProperty(t,e);if(yi(i))return i}}},{key:"setProperty",value:function(t,e,n){var r=this.featureCount;if(this._checkBatchId(t),Object(Nn.a)("string"==typeof e,e),this._binaryProperties){var i=this._binaryProperties[e];if(i)return void this._setBinaryProperty(i,t,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,t,e,n)){var a=this._properties[e];yi(a)||(this._properties[e]=new Array(r),a=this._properties[e]),a[t]=mi(n)}}},{key:"_checkBatchId",value:function(t){if(!(t>=0&&t<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(t,e){return t.unpack(t.typedArray,e)}},{key:"_setBinaryProperty",value:function(t,e,n){t.pack(n,t.typedArray,e)}},{key:"_initializeBinaryProperties",value:function(){var t=null;for(var e in this._properties){var n=this._properties[e],r=this._initializeBinaryProperty(e,n);r&&((t=t||{})[e]=r)}return t}},{key:"_initializeBinaryProperty",value:function(t,e){if("byteOffset"in e){var n=e;Object(Nn.a)(this.binary,"Property ".concat(t," requires a batch table binary.")),Object(Nn.a)(n.type,"Property ".concat(t," requires a type."));var r=function(t,e,n,r){var i=t.componentType;Object(Nn.a)(t.componentType);var a="string"==typeof i?ci.fromName(i):i,o=li[t.type],s=fi[t.type],c=hi[t.type];return n+=t.byteOffset,{values:ci.createTypedArray(a,e,n,o*r),type:a,size:o,unpacker:s,packer:c}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(t,e){if(!this._hierarchy)return!1;var n=vi(this._hierarchy,t,(function(t,n){var r=t.classIds[n];return yi(t.classes[r].instances[e])}));return yi(n)}},{key:"_getPropertyNamesInHierarchy",value:function(t,e){vi(this._hierarchy,t,(function(t,n){var r=t.classIds[n],i=t.classes[r].instances;for(var a in i)i.hasOwnProperty(a)&&-1===e.indexOf(a)&&e.push(a)}))}},{key:"_getHierarchyProperty",value:function(t,e){var n=this;return vi(this._hierarchy,t,(function(t,r){var i=t.classIds[r],a=t.classes[i],o=t.classIndexes[r],s=a.instances[e];return yi(s)?yi(s.typedArray)?n._getBinaryProperty(s,o):mi(s[o]):null}))}},{key:"_setHierarchyProperty",value:function(t,e,n,r){var i=this,a=vi(this._hierarchy,e,(function(t,a){var o=t.classIds[a],s=t.classes[o],c=t.classIndexes[a],u=s.instances[n];return!!yi(u)&&(Object(Nn.a)(a===e,'Inherited property "'.concat(n,'" is read-only.')),yi(u.typedArray)?i._setBinaryProperty(u,c,r):u[c]=mi(r),!0)}));return yi(a)}}]),t}();function Bi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e);if(t.magic=r.getUint32(n,!0),n+=4,t.version=r.getUint32(n,!0),n+=4,t.byteLength=r.getUint32(n,!0),n+=4,1!==t.version)throw new Error("3D Tile Version ".concat(t.version," not supported"));return n}function Oi(t,e,n){var r,i=new DataView(e);t.header=t.header||{};var a=i.getUint32(n,!0);n+=4;var o=i.getUint32(n,!0);n+=4;var s=i.getUint32(n,!0);n+=4;var c=i.getUint32(n,!0);return n+=4,s>=570425344?(n-=8,r=a,s=o,c=0,a=0,o=0,console.warn("b3dm tile in legacy format.")):c>=570425344&&(n-=4,r=s,s=a,c=o,a=0,o=0,console.warn("b3dm tile in legacy format.")),t.header.featureTableJsonByteLength=a,t.header.featureTableBinaryByteLength=o,t.header.batchTableJsonByteLength=s,t.header.batchTableBinaryByteLength=c,t.header.batchLength=r,n}function Ci(t,e,n,r){return n=function(t,e,n,r){var i=t.header,a=i.featureTableJsonByteLength,o=i.featureTableBinaryByteLength,s=i.batchLength;if(t.featureTableJson={BATCH_LENGTH:s||0},a>0){var c=Kn(e,n,a);t.featureTableJson=JSON.parse(c)}return n+=a,t.featureTableBinary=new Uint8Array(e,n,o),n+=o}(t,e,n),n=function(t,e,n,r){var i=t.header,a=i.batchTableJsonByteLength,o=i.batchTableBinaryByteLength;if(a>0){var s=Kn(e,n,a);t.batchTableJson=JSON.parse(s),n+=a,o>0&&(t.batchTableBinary=new Uint8Array(e,n,o),t.batchTableBinary=new Uint8Array(t.batchTableBinary),n+=o)}return n}(t,e,n)}function _i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=t>>11&31,r=t>>5&63,i=31&t;return e[0]=n<<3,e[1]=r<<2,e[2]=i<<3,e}function Ei(t,e,n){if(!(e||t&&t.batchIds&&n))return null;var r=t.batchIds,i=t.isRGB565,a=t.pointCount;if(r&&n){for(var o=new Uint8ClampedArray(3*a),s=0;s<a;s++){var c=r[s],u=n.getProperty(c,"dimensions").map((function(t){return 255*t}));o[3*s]=u[0],o[3*s+1]=u[1],o[3*s+2]=u[2]}return{type:ii.UNSIGNED_BYTE,value:o,size:3,normalized:!0}}if(i){for(var l=new Uint8ClampedArray(3*a),f=0;f<a;f++){var h=_i(e[f]);l[3*f]=h[0],l[3*f+1]=h[1],l[3*f+2]=h[2]}return{type:ii.UNSIGNED_BYTE,value:l,size:3,normalized:!0}}return e&&e.length===3*a?{type:ii.UNSIGNED_BYTE,value:e,size:3,normalized:!0}:{type:ii.UNSIGNED_BYTE,value:e,size:4,normalized:!0}}var ji=n("uJc0"),wi=n("yeNo");n("V6u+");function Di(t,e){if(!t)throw new Error("math.gl assertion failed. ".concat(e))}new ji.a,new ai.a,new ji.a,new ji.a,new Uint8Array(1);function Ii(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Object(wi.a)(t,0,e)/e*2-1}function Ti(t){return t<0?-1:1}function Si(t,e,n,r){if(Di(r),t<0||t>n||e<0||e>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=Ii(t,n),r.y=Ii(e,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){var i=r.x;r.x=(1-Math.abs(r.y))*Ti(i),r.y=(1-Math.abs(i))*Ti(r.y)}return r.normalize()}function Ri(t,e,n){return Si(t,e,255,n)}var xi=new ai.a;function Mi(t,e,n){return t.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(t.isQuantized=!1,function(t,e){for(var n=new ai.a,r=new Float32Array(3*t.pointCount),i=0;i<t.pointCount;i++)n.set(e[3*i],e[3*i+1],e[3*i+2]).scale(1/t.quantizedRange).multiply(t.quantizedVolumeScale).add(t.quantizedVolumeOffset).toArray(r,3*i);return r}(t,e)):{type:ii.UNSIGNED_SHORT,value:e,size:3,normalized:!0}:e}function Fi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fi(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pi(t,e,n,r,i){return ki.apply(this,arguments)}function ki(){return(ki=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){var o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Bi(e,n,r),r=Oi(e,n,r),r=Ci(e,n,r),Ui(e),o=Li(e),s=o.featureTable,c=o.batchTable,t.next=7,Ki(e,s,c,i,a);case 7:return Hi(e,s,i),Ji(e,s,c),Ni(e,s),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ui(t){t.attributes={positions:null,colors:null,normals:null,batchIds:null},t.isQuantized=!1,t.isTranslucent=!1,t.isRGB565=!1,t.isOctEncoded16P=!1}function Li(t){var e=new ui(t.featureTableJson,t.featureTableBinary),n=e.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");e.featuresLength=n,t.featuresLength=n,t.pointsLength=n,t.pointCount=n,t.rtcCenter=e.getGlobalProperty("RTC_CENTER",ii.FLOAT,3);var r=function(t,e){var n=null;if(!t.batchIds&&e.hasProperty("BATCH_ID")&&(t.batchIds=e.getPropertyArray("BATCH_ID",ii.UNSIGNED_SHORT,1),t.batchIds)){var r=e.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=t.batchTableJson,a=t.batchTableBinary;n=new gi(i,a,r)}return n}(t,e);return{featureTable:e,batchTable:r}}function Hi(t,e,n){if(!t.attributes.positions)if(e.hasProperty("POSITION"))t.attributes.positions=e.getPropertyArray("POSITION",ii.FLOAT,3);else if(e.hasProperty("POSITION_QUANTIZED")){var r=e.getPropertyArray("POSITION_QUANTIZED",ii.UNSIGNED_SHORT,3);if(t.isQuantized=!0,t.quantizedRange=65535,t.quantizedVolumeScale=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",ii.FLOAT,3),!t.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(t.quantizedVolumeOffset=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",ii.FLOAT,3),!t.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");t.attributes.positions=Mi(t,r,n)}if(!t.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Ji(t,e,n){if(!t.attributes.colors){var r=null;e.hasProperty("RGBA")?(r=e.getPropertyArray("RGBA",ii.UNSIGNED_BYTE,4),t.isTranslucent=!0):e.hasProperty("RGB")?r=e.getPropertyArray("RGB",ii.UNSIGNED_BYTE,3):e.hasProperty("RGB565")&&(r=e.getPropertyArray("RGB565",ii.UNSIGNED_SHORT,1),t.isRGB565=!0),t.attributes.colors=Ei(t,r,n)}e.hasProperty("CONSTANT_RGBA")&&(t.constantRGBA=e.getGlobalProperty("CONSTANT_RGBA",ii.UNSIGNED_BYTE,4))}function Ni(t,e){if(!t.attributes.normals){var n=null;e.hasProperty("NORMAL")?n=e.getPropertyArray("NORMAL",ii.FLOAT,3):e.hasProperty("NORMAL_OCT16P")&&(n=e.getPropertyArray("NORMAL_OCT16P",ii.UNSIGNED_BYTE,2),t.isOctEncoded16P=!0),t.attributes.normals=function(t,e){if(!e)return null;if(t.isOctEncoded16P){for(var n=new Float32Array(3*t.pointsLength),r=0;r<t.pointsLength;r++)Ri(e[2*r],e[2*r+1],xi),xi.toArray(n,3*r);return{type:ii.FLOAT,size:2,value:n}}return{type:ii.FLOAT,size:2,value:e}}(t,n)}}function Ki(t,e,n,r,i){return zi.apply(this,arguments)}function zi(){return(zi=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){var o,s,c,u,l,f,h,p;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((u=e.batchTableJson&&e.batchTableJson.extensions&&e.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(c=u.properties),!(l=n.getExtension("3DTILES_draco_point_compression"))){t.next=15;break}if(s=l.properties,f=l.byteOffset,h=l.byteLength,s&&Number.isFinite(f)&&h){t.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:o=e.featureTableBinary.slice(f,f+h),e.hasPositions=Number.isFinite(s.POSITION),e.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),e.hasNormals=Number.isFinite(s.NORMAL),e.hasBatchIds=Number.isFinite(s.BATCH_ID),e.isTranslucent=Number.isFinite(s.RGBA);case 15:if(o){t.next=17;break}return t.abrupt("return",!0);case 17:return p={buffer:o,properties:Gi(Gi({},s),c),featureTableProperties:s,batchTableProperties:c,dequantizeInShader:!1},t.next=20,Qi(e,p,i,a);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qi(t,e,n,r){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(xn.a)(Rn.a.mark((function t(e,n,r,i){var a,o,s,c,u,l,f,h,p,d,v,b,y,m,A;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.parse,delete(o=Gi(Gi({},r),{},{draco:Gi(Gi({},r.draco),{},{extraAttributes:n.batchTableProperties||{}})}))["3d-tiles"],t.next=5,a(n.buffer,qr,o);case 5:if(s=t.sent,c=s.attributes.POSITION&&s.attributes.POSITION.value,u=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,l=s.attributes.NORMAL&&s.attributes.NORMAL.value,f=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,h=c&&s.attributes.POSITION.value.quantization,p=l&&s.attributes.NORMAL.value.quantization,h&&(d=s.POSITION.data.quantization,v=d.range,e.quantizedVolumeScale=new ai.a(v,v,v),e.quantizedVolumeOffset=new ai.a(d.minValues),e.quantizedRange=(1<<d.quantizationBits)-1,e.isQuantizedDraco=!0),p&&(e.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,e.isOctEncodedDraco=!0),b={},n.batchTableProperties)for(y=0,m=Object.keys(n.batchTableProperties);y<m.length;y++)A=m[y],s.attributes[A]&&s.attributes[A].value&&(b[A.toLowerCase()]=s.attributes[A].value);e.attributes=Gi({positions:c,colors:Ei(e,u,void 0),normals:l,batchIds:f},b);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Vi,Yi,Zi="https://unpkg.com/@loaders.gl/textures@".concat("3.1.8","/dist/libs/basis_encoder.wasm"),Wi="https://unpkg.com/@loaders.gl/textures@".concat("3.1.8","/dist/libs/basis_encoder.js");function qi(t){return $i.apply(this,arguments)}function $i(){return($i=Object(xn.a)(Rn.a.mark((function t(e){var n;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basis){t.next=3;break}return t.abrupt("return",n.basis);case 3:return Vi=Vi||ta(e),t.next=6,Vi;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ta(t){return ea.apply(this,arguments)}function ea(){return(ea=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,r=null,t.t0=Promise,t.next=5,xr("basis_transcoder.js","textures",e);case 5:return t.t1=t.sent,t.next=8,xr("basis_transcoder.wasm","textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return i=t.sent,a=Object(F.a)(i,2),n=a[0],r=a[1],n=n||globalThis.BASIS,t.next=19,na(n,r);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function na(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile;(0,t.initializeBasis)(),e({BasisFile:n})}))}))}function ra(t){return ia.apply(this,arguments)}function ia(){return(ia=Object(xn.a)(Rn.a.mark((function t(e){var n;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basisEncoder){t.next=3;break}return t.abrupt("return",n.basisEncoder);case 3:return Yi=Yi||aa(e),t.next=6,Yi;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function aa(t){return oa.apply(this,arguments)}function oa(){return(oa=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,r=null,t.t0=Promise,t.next=5,xr(Wi,"textures",e);case 5:return t.t1=t.sent,t.next=8,xr(Zi,"textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return i=t.sent,a=Object(F.a)(i,2),n=a[0],r=a[1],n=n||globalThis.BASIS,t.next=19,sa(n,r);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sa(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile,r=t.KTX2File,i=t.initializeBasis,a=t.BasisEncoder;i(),e({BasisFile:n,KTX2File:r,BasisEncoder:a})}))}))}var ca={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919};function ua(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return la(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function la(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fa=["","WEBKIT_","MOZ_"],ha={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},pa=null;function da(t){if(!pa){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,pa=new Set;var e,n=ua(fa);try{for(n.s();!(e=n.n()).done;){var r=e.value;for(var i in ha)if(t&&t.getExtension("".concat(r).concat(i))){var a=ha[i];pa.add(a)}}}catch(o){n.e(o)}finally{n.f()}}return pa}n("RdxY");var va=[171,75,84,88,32,50,48,187,13,10,26,10];function ba(t){var e=new Uint8Array(t);return!(e.byteLength<va.length||e[0]!==va[0]||e[1]!==va[1]||e[2]!==va[2]||e[3]!==va[3]||e[4]!==va[4]||e[5]!==va[5]||e[6]!==va[6]||e[7]!==va[7]||e[8]!==va[8]||e[9]!==va[9]||e[10]!==va[10]||e[11]!==va[11])}var ya={etc1:{basisFormat:0,compressed:!0,format:ca.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:ca.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:ca.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:ca.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:ca.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:ca.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function ma(){return(ma=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("auto"!==n.basis.containerFormat){t.next=11;break}if(!ba(e)){t.next=6;break}return t.next=4,ra(n);case 4:return r=t.sent,t.abrupt("return",Ba(r.KTX2File,e,n));case 6:return t.next=8,qi(n);case 8:return i=t.sent,a=i.BasisFile,t.abrupt("return",Aa(a,e,n));case 11:t.t0=n.basis.module,t.next="encoder"===t.t0?14:(t.t0,22);break;case 14:return t.next=16,ra(n);case 16:o=t.sent,t.t1=n.basis.containerFormat,t.next="ktx2"===t.t1?20:(t.t1,21);break;case 20:return t.abrupt("return",Ba(o.KTX2File,e,n));case 21:return t.abrupt("return",Aa(o.BasisFile,e,n));case 22:return t.next=24,qi(n);case 24:return s=t.sent,c=s.BasisFile,t.abrupt("return",Aa(c,e,n));case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Aa(t,e,n){var r=new t(new Uint8Array(e));try{if(!r.startTranscoding())return null;for(var i=r.getNumImages(),a=[],o=0;o<i;o++){for(var s=r.getNumLevels(o),c=[],u=0;u<s;u++)c.push(ga(r,o,u,n));a.push(c)}return a}finally{r.close(),r.delete()}}function ga(t,e,n,r){var i=t.getImageWidth(e,n),a=t.getImageHeight(e,n),o=t.getHasAlpha(),s=Ca(r,o),c=s.compressed,u=s.format,l=s.basisFormat,f=t.getImageTranscodedSizeInBytes(e,n,l),h=new Uint8Array(f);return t.transcodeImage(h,e,n,l,0,0)?{width:i,height:a,data:h,compressed:c,hasAlpha:o,format:u}:null}function Ba(t,e,n){var r=new t(new Uint8Array(e));try{if(!r.startTranscoding())return null;for(var i=r.getLevels(),a=[],o=0;o<i;o++){a.push(Oa(r,o,n));break}return a}finally{r.close(),r.delete()}}function Oa(t,e,n){var r=t.getImageLevelInfo(e,0,0),i=r.alphaFlag,a=r.height,o=r.width,s=Ca(n,i),c=s.compressed,u=s.format,l=s.basisFormat,f=t.getImageTranscodedSizeInBytes(e,0,0,l),h=new Uint8Array(f);return t.transcodeImage(h,e,0,0,l,0,-1,-1)?{width:o,height:a,data:h,compressed:c,alphaFlag:i,format:u}:null}function Ca(t,e){var n=t&&t.basis&&t.basis.format;return"auto"===n&&(n=_a()),"object"==typeof n&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),ya[n]}function _a(){var t=da();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wa={name:"Basis",id:"basis",module:"textures",version:"3.1.8",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Da=ja(ja({},wa),{},{parse:function(t,e){return ma.apply(this,arguments)}}),Ia=n("kEPd"),Ta=n("sx9D"),Sa=n("16Iq");function Ra(t,e){if(!t)throw new Error(e||"assert failed: gltf")}function xa(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;var n=e.baseUri||e.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(t));return n.substr(0,n.lastIndexOf("/")+1)+t}function Ma(t,e,n){var r=t.bufferViews[n];Ra(r);var i=e[r.buffer];Ra(i);var a=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,a,r.byteLength)}var Fa=n("Dm9C"),Ga=n("h5Ug"),Pa=["SCALAR","VEC2","VEC3","VEC4"],ka=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],Ua=new Map(ka),La={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ha={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ja={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Na(t){return Pa[t-1]||Pa[0]}function Ka(t){var e=Ua.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function za(t,e){var n=Ja[t.componentType],r=La[t.type],i=Ha[t.componentType],a=t.count*r,o=t.count*r*i;return Ra(o>=0&&o<=e.byteLength),{ArrayType:n,length:a,byteLength:o}}function Qa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Va(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Za,Wa={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},qa=function(){function t(e){Object(b.a)(this,t),Object(d.a)(this,"gltf",void 0),Object(d.a)(this,"sourceBuffers",void 0),Object(d.a)(this,"byteLength",void 0),this.gltf=e||{json:Ya({},Wa),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}return Object(m.a)(t,[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(t){return this.json[t]}},{key:"getExtraData",value:function(t){return(this.json.extras||{})[t]}},{key:"getExtension",value:function(t){var e=this.getUsedExtensions().find((function(e){return e===t})),n=this.json.extensions||{};return e?n[t]||!0:null}},{key:"getRequiredExtension",value:function(t){return this.getRequiredExtensions().find((function(e){return e===t}))?this.getExtension(t):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(t,e){return(t.extensions||{})[e]}},{key:"getScene",value:function(t){return this.getObject("scenes",t)}},{key:"getNode",value:function(t){return this.getObject("nodes",t)}},{key:"getSkin",value:function(t){return this.getObject("skins",t)}},{key:"getMesh",value:function(t){return this.getObject("meshes",t)}},{key:"getMaterial",value:function(t){return this.getObject("materials",t)}},{key:"getAccessor",value:function(t){return this.getObject("accessors",t)}},{key:"getTexture",value:function(t){return this.getObject("textures",t)}},{key:"getSampler",value:function(t){return this.getObject("samplers",t)}},{key:"getImage",value:function(t){return this.getObject("images",t)}},{key:"getBufferView",value:function(t){return this.getObject("bufferViews",t)}},{key:"getBuffer",value:function(t){return this.getObject("buffers",t)}},{key:"getObject",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];if(!n)throw new Error("glTF file error: Could not find ".concat(t,"[").concat(e,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(t){var e=(t=this.getBufferView(t)).buffer,n=this.gltf.buffers[e];Ra(n);var r=(t.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,t.byteLength)}},{key:"getTypedArrayForAccessor",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=za(t,e),i=r.ArrayType,a=r.length;return new i(n,e.byteOffset+t.byteOffset,a)}},{key:"getTypedArrayForImageData",value:function(t){t=this.getAccessor(t);var e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=e.byteOffset||0;return new Uint8Array(n,r,e.byteLength)}},{key:"addApplicationData",value:function(t,e){return this.json[t]=e,this}},{key:"addExtraData",value:function(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}},{key:"addObjectExtension",value:function(t,e,n){return t.extensions=t.extensions||{},t.extensions[e]=n,this.registerUsedExtension(e),this}},{key:"setObjectExtension",value:function(t,e,n){(t.extensions||{})[e]=n}},{key:"removeObjectExtension",value:function(t,e){var n=t.extensions||{},r=n[e];return delete n[e],r}},{key:"addExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ra(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}},{key:"addRequiredExtension",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ra(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}},{key:"registerUsedExtension",value:function(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(e){return e===t}))||this.json.extensionsUsed.push(t)}},{key:"registerRequiredExtension",value:function(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(e){return e===t}))||this.json.extensionsRequired.push(t)}},{key:"removeExtension",value:function(t){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t),this.json.extensions&&delete this.json.extensions[t]}},{key:"setDefaultScene",value:function(t){this.json.scene=t}},{key:"addScene",value:function(t){var e=t.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}},{key:"addNode",value:function(t){var e=t.meshIndex,n=t.matrix;this.json.nodes=this.json.nodes||[];var r={mesh:e};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}},{key:"addMesh",value:function(t){var e=t.attributes,n=t.indices,r=t.material,i=t.mode,a=void 0===i?4:i,o={primitives:[{attributes:this._addAttributes(e),mode:a}]};if(n){var s=this._addIndices(n);o.primitives[0].indices=s}return Number.isFinite(r)&&(o.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}},{key:"addPointCloud",value:function(t){var e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}},{key:"addImage",value:function(t,e){var n=Object(Fa.a)(t),r=e||(null==n?void 0:n.mimeType),i={bufferView:this.addBufferView(t),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}},{key:"addBufferView",value:function(t){var e=t.byteLength;Ra(Number.isFinite(e)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);var n={buffer:0,byteOffset:this.byteLength,byteLength:e};return this.byteLength+=Object(Ga.b)(e,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(t,e){var n={bufferView:t,type:Na(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(t),r={min:e.min,max:e.max};r.min&&r.max||(r=this._getAccessorMinMax(t,e.size));var i={size:e.size,componentType:Ka(t),count:Math.round(t.length/e.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,e))}},{key:"addTexture",value:function(t){var e={source:t.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(e),this.json.textures.length-1}},{key:"addMaterial",value:function(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var t,e;this.gltf.buffers=[];var n,r=this.byteLength,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0,s=Qa(this.sourceBuffers||[]);try{for(s.s();!(n=s.n()).done;){var c=n.value;o=Object(Ga.a)(c,a,o)}}catch(u){s.e(u)}finally{s.f()}null!==(t=this.json)&&void 0!==t&&null!==(e=t.buffers)&&void 0!==e&&e[0]?this.json.buffers[0].byteLength=r:this.json.buffers=[{byteLength:r}],this.gltf.binary=i,this.sourceBuffers=[i]}},{key:"_removeStringFromArray",value:function(t,e){for(var n=!0;n;){var r=t.indexOf(e);r>-1?t.splice(r,1):n=!1}}},{key:"_addAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var n in t){var r=t[n],i=this._getGltfAttributeName(n),a=this.addBinaryBuffer(r.value,r);e[i]=a}return e}},{key:"_addIndices",value:function(t){return this.addBinaryBuffer(t,{size:1})}},{key:"_getGltfAttributeName",value:function(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}},{key:"_getAccessorMinMax",value:function(t,e){var n={min:null,max:null};if(t.length<e)return n;n.min=[],n.max=[];var r,i=Qa(t.subarray(0,e));try{for(i.s();!(r=i.n()).done;){var a=r.value;n.min.push(a),n.max.push(a)}}catch(c){i.e(c)}finally{i.f()}for(var o=e;o<t.length;o+=e)for(var s=0;s<e;s++)n.min[0+s]=Math.min(n.min[0+s],t[o+s]),n.max[0+s]=Math.max(n.max[0+s],t[o+s]);return n}}]),t}(),$a="object"!=typeof WebAssembly,to="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",eo="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",no=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),ro=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),io={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ao={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function oo(t,e,n,r,i){return so.apply(this,arguments)}function so(){return(so=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){var o,s,c=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>5&&void 0!==c[5]?c[5]:"NONE",t.next=3,co();case 3:po(s=t.sent,s.exports[ao[a]],e,n,r,i,s.exports[io[o||"NONE"]]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function co(){return uo.apply(this,arguments)}function uo(){return(uo=Object(xn.a)(Rn.a.mark((function t(){return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Za||(Za=lo()),t.abrupt("return",Za);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lo(){return fo.apply(this,arguments)}function fo(){return(fo=Object(xn.a)(Rn.a.mark((function t(){var e,n;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=to,WebAssembly.validate(no)&&(e=eo,console.log("Warning: meshopt_decoder is using experimental SIMD support")),t.next=4,WebAssembly.instantiate(ho(e),{});case 4:return n=t.sent,t.next=7,n.instance.exports.__wasm_call_ctors();case 7:return t.abrupt("return",n.instance);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ho(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;++n){var r=t.charCodeAt(n);e[n]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}for(var i=0,a=0;a<t.length;++a)e[i++]=e[a]<60?ro[e[a]]:64*(e[a]-60)+e[++a];return e.buffer.slice(0,i)}function po(t,e,n,r,i,a,o){var s=t.exports.sbrk,c=r+3&-4,u=s(c*i),l=s(a.length),f=new Uint8Array(t.exports.memory.buffer);f.set(a,l);var h=e(u,r,i,l,a.length);if(0===h&&o&&o(u,c,i),n.set(f.subarray(u,u+r*i)),s(u-s(0)),0!==h)throw new Error("Malformed buffer data: ".concat(h))}function vo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yo="EXT_meshopt_compression";function mo(t){if(new qa(t).getRequiredExtensions().includes("EXT_meshopt_compression")&&!$a)throw new Error("gltf: Required extension ".concat("EXT_meshopt_compression"," not supported by browser"))}function Ao(t,e){return go.apply(this,arguments)}function go(){return(go=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=new qa(e),null!=n&&null!==(r=n.gltf)&&void 0!==r&&r.decompressMeshes){t.next=3;break}return t.abrupt("return");case 3:a=[],o=vo(e.json.bufferViews||[]);try{for(o.s();!(s=o.n()).done;)c=s.value,a.push(Bo(i,c))}catch(u){o.e(u)}finally{o.f()}return t.next=8,Promise.all(a);case 8:i.removeExtension("EXT_meshopt_compression");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bo(t,e){return Oo.apply(this,arguments)}function Oo(){return(Oo=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,h,p,d,v;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.getObjectExtension(n,"EXT_meshopt_compression"))){t.next=9;break}return i=n.buffer,a=r.byteOffset,o=void 0===a?0:a,s=r.byteLength,c=void 0===s?0:s,u=r.byteStride,l=r.count,f=r.mode,h=r.filter,p=void 0===h?"NONE":h,d=new Uint8Array(i,o,c),v=new ArrayBuffer(l*u),t.next=8,oo(new Uint8Array(v),l,u,d,f,p);case 8:return t.abrupt("return",v);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Co=n("R8l9");function _o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Eo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jo="EXT_texture_webp";function wo(t,e){var n=new qa(t);if(Object(Co.a)("image/webp")){var r,i=_o(n.json.textures||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=n.getObjectExtension(a,"EXT_texture_webp");o&&(a.source=o.source),n.removeObjectExtension(a,"EXT_texture_webp")}}catch(s){i.e(s)}finally{i.f()}n.removeExtension("EXT_texture_webp")}else if(n.getRequiredExtensions().includes("EXT_texture_webp"))throw new Error("gltf: Required extension ".concat("EXT_texture_webp"," not supported by browser"))}function Do(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Io(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Io(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var To="KHR_texture_basisu";function So(t,e){var n,r=new qa(t),i=Do(r.json.textures||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=r.getObjectExtension(a,"KHR_texture_basisu");o&&(a.source=o.source),r.removeObjectExtension(a,"KHR_texture_basisu")}}catch(s){i.e(s)}finally{i.f()}r.removeExtension("KHR_texture_basisu")}function Ro(t){var e={};for(var n in t){var r=t[n];if("indices"!==n){var i=xo(r);e[n]=i}}return e}function xo(t){var e=function(t){var e=t,n=1,r=0;t&&t.value&&(e=t.value,n=t.size||1);e&&(ArrayBuffer.isView(e)||(e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return null;if(Array.isArray(t))return new e(t);if(n&&!(t instanceof e))return new e(t);return t}(e,Float32Array)),r=e.length/n);return{buffer:e,size:n,count:r}}(t),n=e.buffer,r=e.size;return{value:n,size:r,byteOffset:0,count:e.count,type:Na(r),componentType:Ka(n)}}function Mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mo(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Go=Rn.a.mark(Vo);function Po(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ko(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uo="KHR_draco_mesh_compression";function Lo(t,e,n){var r,i=new qa(t),a=Po(Vo(i));try{for(a.s();!(r=a.n()).done;){var o=r.value;i.getObjectExtension(o,"KHR_draco_mesh_compression")}}catch(s){a.e(s)}finally{a.f()}}function Ho(t,e,n){return Jo.apply(this,arguments)}function Jo(){return(Jo=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a,o,s,c,u;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&null!==(i=n.gltf)&&void 0!==i&&i.decompressMeshes){t.next=2;break}return t.abrupt("return");case 2:a=new qa(e),o=[],s=Po(Vo(a));try{for(s.s();!(c=s.n()).done;)u=c.value,a.getObjectExtension(u,"KHR_draco_mesh_compression")&&o.push(Ko(a,u,n,r))}catch(l){s.e(l)}finally{s.f()}return t.next=8,Promise.all(o);case 8:a.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function No(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new qa(t),i=Po(r.json.meshes||[]);try{for(i.s();!(e=i.n()).done;){var a=e.value;Qo(a,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(o){i.e(o)}finally{i.f()}}function Ko(t,e,n,r){return zo.apply(this,arguments)}function zo(){return(zo=Object(xn.a)(Rn.a.mark((function t(e,n,r,i){var a,o,s,c,u,l,f,h,p,d,v,b,y,m;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.getObjectExtension(n,"KHR_draco_mesh_compression")){t.next=3;break}return t.abrupt("return");case 3:return o=e.getTypedArrayForBufferView(a.bufferView),s=Object(Sa.c)(o.buffer,o.byteOffset),c=i.parse,delete(u=Fo({},r))["3d-tiles"],t.next=10,c(s,qr,u,i);case 10:for(l=t.sent,f=Ro(l.attributes),h=0,p=Object.entries(f);h<p.length;h++)d=Object(F.a)(p[h],2),v=d[0],b=d[1],v in n.attributes&&(y=n.attributes[v],null!=(m=e.getAccessor(y))&&m.min&&null!=m&&m.max&&(b.min=m.min,b.max=m.max));n.attributes=f,l.indices&&(n.indices=xo(l.indices)),Xo(n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qo(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var o=i.DracoWriter.encodeSync({attributes:t}),s=null==a||null===(n=a.parseSync)||void 0===n?void 0:n.call(a,{attributes:t}),c=i._addFauxAttributes(s.attributes),u=i.addBufferView(o),l={primitives:[{attributes:c,mode:r,extensions:Object(d.a)({},"KHR_draco_mesh_compression",{bufferView:u,attributes:c})}]};return l}function Xo(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function Vo(t){var e,n,r,i,a,o;return Rn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=Po(t.json.meshes||[]),s.prev=1,e.s();case 3:if((n=e.n()).done){s.next=24;break}r=n.value,i=Po(r.primitives),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),e.e(s.t1);case 29:return s.prev=29,e.f(),s.finish(29);case 32:case"end":return s.stop()}}),Go,null,[[1,26,29,32],[6,16,19,22]])}function Yo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Zo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Zo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wo="KHR_lights_punctual";function qo(t){return $o.apply(this,arguments)}function $o(){return($o=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qa(e),r=n.json,(i=n.getExtension("KHR_lights_punctual"))&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual")),a=Yo(r.nodes||[]);try{for(a.s();!(o=a.n()).done;)s=o.value,(c=n.getObjectExtension(s,"KHR_lights_punctual"))&&(s.light=c.light),n.removeObjectExtension(s,"KHR_lights_punctual")}catch(u){a.e(u)}finally{a.f()}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ts(t){return es.apply(this,arguments)}function es(){return(es=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new qa(e),(r=n.json).lights&&(Ra(!(i=n.addExtension("KHR_lights_punctual")).lights),i.lights=r.lights,delete r.lights),n.json.lights){a=Yo(n.json.lights);try{for(a.s();!(o=a.n()).done;)s=o.value,c=s.node,n.addObjectExtension(c,"KHR_lights_punctual",s)}catch(u){a.e(u)}finally{a.f()}delete n.json.lights}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ns(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var is="KHR_materials_unlit";function as(t){return os.apply(this,arguments)}function os(){return(os=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qa(e),r=n.json,n.removeExtension("KHR_materials_unlit"),i=ns(r.materials||[]);try{for(i.s();!(a=i.n()).done;)o=a.value,o.extensions&&o.extensions.KHR_materials_unlit&&(o.unlit=!0),n.removeObjectExtension(o,"KHR_materials_unlit")}catch(s){i.e(s)}finally{i.f()}case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ss(t){var e=new qa(t),n=e.json;if(e.materials){var r,i=ns(n.materials||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.unlit&&(delete a.unlit,e.addObjectExtension(a,"KHR_materials_unlit",{}),e.addExtension("KHR_materials_unlit"))}}catch(o){i.e(o)}finally{i.f()}}}function cs(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return us(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return us(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function us(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ls="KHR_techniques_webgl";function fs(t){return hs.apply(this,arguments)}function hs(){return(hs=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c,u;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new qa(e),r=n.json,i=n.getExtension("KHR_techniques_webgl")){a=vs(i,n),o=cs(r.materials||[]);try{for(o.s();!(s=o.n()).done;)c=s.value,(u=n.getObjectExtension(c,"KHR_techniques_webgl"))&&(c.technique=Object.assign({},u,a[u.technique]),c.technique.values=bs(c.technique,n)),n.removeObjectExtension(c,"KHR_techniques_webgl")}catch(l){o.e(l)}finally{o.f()}n.removeExtension("KHR_techniques_webgl")}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ps(t,e){return ds.apply(this,arguments)}function ds(){return(ds=Object(xn.a)(Rn.a.mark((function t(e,n){return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vs(t,e){var n=t.programs,r=void 0===n?[]:n,i=t.shaders,a=void 0===i?[]:i,o=t.techniques,s=void 0===o?[]:o,c=new TextDecoder;return a.forEach((function(t){if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=c.decode(e.getTypedArrayForBufferView(t.bufferView))})),r.forEach((function(t){t.fragmentShader=a[t.fragmentShader],t.vertexShader=a[t.vertexShader]})),s.forEach((function(t){t.program=r[t.program]})),s}function bs(t,e){var n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach((function(e){t.uniforms[e].value&&!(e in n)&&(n[e]=t.uniforms[e].value)})),Object.keys(n).forEach((function(t){"object"==typeof n[t]&&void 0!==n[t].index&&(n[t].texture=e.getTexture(n[t].index))})),n}function ys(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ms(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var As=[r,i,a,o,s,c,u];function gs(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=As.filter((function(t){return Cs(t.name,n)})),a=ys(i);try{for(a.s();!(e=a.n()).done;){var o,s=e.value;null===(o=s.preprocess)||void 0===o||o.call(s,t,n,r)}}catch(c){a.e(c)}finally{a.f()}}function Bs(t){return Os.apply(this,arguments)}function Os(){return(Os=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c,u=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,i=As.filter((function(t){return Cs(t.name,n)})),a=ys(i),t.prev=4,a.s();case 6:if((o=a.n()).done){t.next=12;break}return s=o.value,t.next=10,null===(c=s.decode)||void 0===c?void 0:c.call(s,e,n,r);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))).apply(this,arguments)}function Cs(t,e){var n,r=(null==e||null===(n=e.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(t in r&&!r[t])}function _s(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Es(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Es(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Es(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function js(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ws(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ws(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ds={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Is={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Ts=function(){function t(){Object(b.a)(this,t),Object(d.a)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),Object(d.a)(this,"json",void 0)}return Object(m.a)(t,[{key:"normalize",value:function(t,e){this.json=t.json;var n=t.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(t){var e,n=new qa(t),r=n.json,i=_s(r.images||[]);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=n.getObjectExtension(a,"KHR_binary_glTF");o&&Object.assign(a,o),n.removeObjectExtension(a,"KHR_binary_glTF")}}catch(s){i.e(s)}finally{i.f()}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,n.removeExtension("KHR_binary_glTF")}(t),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}},{key:"_addAsset",value:function(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(t){for(var e in Ds)this._convertTopLevelObjectToArray(t,e)}},{key:"_convertTopLevelObjectToArray",value:function(t,e){var n=t[e];if(n&&!Array.isArray(n))for(var r in t[e]=[],n){var i=n[r];i.id=i.id||r;var a=t[e].length;t[e].push(i),this.idToIndexMap[e][r]=a}}},{key:"_convertObjectIdsToArrayIndices",value:function(t){for(var e in Ds)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));var n,r=js(t.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(d){r.e(d)}finally{r.f()}var a,o=js(t.meshes);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._convertMeshIds(s)}}catch(d){o.e(d)}finally{o.f()}var c,u=js(t.nodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._convertNodeIds(l)}}catch(d){u.e(d)}finally{u.f()}var f,h=js(t.scenes);try{for(h.s();!(f=h.n()).done;){var p=f.value;this._convertSceneIds(p)}}catch(d){h.e(d)}finally{h.f()}}},{key:"_convertTextureIds",value:function(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}},{key:"_convertMeshIds",value:function(t){var e,n=js(t.primitives);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.attributes,a=r.indices,o=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");a&&(r.indices=this._convertIdToIndex(a,"accessor")),o&&(r.material=this._convertIdToIndex(o,"material"))}}catch(c){n.e(c)}finally{n.f()}}},{key:"_convertNodeIds",value:function(t){var e=this;t.children&&(t.children=t.children.map((function(t){return e._convertIdToIndex(t,"node")}))),t.meshes&&(t.meshes=t.meshes.map((function(t){return e._convertIdToIndex(t,"mesh")})))}},{key:"_convertSceneIds",value:function(t){var e=this;t.nodes&&(t.nodes=t.nodes.map((function(t){return e._convertIdToIndex(t,"node")})))}},{key:"_convertIdsToIndices",value:function(t,e){t[e]||(console.warn("gltf v1: json doesn't contain attribute ".concat(e)),t[e]=[]);var n,r=js(t[e]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var a in i){var o=i[a],s=this._convertIdToIndex(o,a);i[a]=s}}}catch(c){r.e(c)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(t,e){var n=Is[e];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][t];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(e," with id ").concat(t));return r}return t}},{key:"_updateObjects",value:function(t){var e,n=js(this.json.buffers);try{for(n.s();!(e=n.n()).done;){delete e.value.type}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateMaterial",value:function(t){var e,n=js(t.materials);try{var r=function(){var n=e.value;n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var r=n.values&&n.values.tex,i=t.textures.findIndex((function(t){return t.id===r}));-1!==i&&(n.pbrMetallicRoughness.baseColorTexture={index:i})};for(n.s();!(e=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}}]),t}();function Ss(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new Ts).normalize(t,e)}var Rs;n("E9XD");function xs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xs(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fs={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Gs={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ps=10240,ks=10241,Us=10242,Ls=10243,Hs=10497,Js=9729,Ns=9986,Ks={magFilter:Ps,minFilter:ks,wrapS:Us,wrapT:Ls},zs=(Rs={},Object(d.a)(Rs,Ps,Js),Object(d.a)(Rs,ks,Ns),Object(d.a)(Rs,Us,Hs),Object(d.a)(Rs,Ls,Hs),Rs);var Qs=function(){function t(){Object(b.a)(this,t),Object(d.a)(this,"baseUri",""),Object(d.a)(this,"json",{}),Object(d.a)(this,"buffers",[]),Object(d.a)(this,"images",[])}return Object(m.a)(t,[{key:"postProcess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.json,r=t.buffers,i=void 0===r?[]:r,a=t.images,o=void 0===a?[]:a,s=t.baseUri,c=void 0===s?"":s;return Ra(n),this.baseUri=c,this.json=n,this.buffers=i,this.images=o,this._resolveTree(this.json,e),this.json}},{key:"_resolveTree",value:function(t){var e=this;t.bufferViews&&(t.bufferViews=t.bufferViews.map((function(t,n){return e._resolveBufferView(t,n)}))),t.images&&(t.images=t.images.map((function(t,n){return e._resolveImage(t,n)}))),t.samplers&&(t.samplers=t.samplers.map((function(t,n){return e._resolveSampler(t,n)}))),t.textures&&(t.textures=t.textures.map((function(t,n){return e._resolveTexture(t,n)}))),t.accessors&&(t.accessors=t.accessors.map((function(t,n){return e._resolveAccessor(t,n)}))),t.materials&&(t.materials=t.materials.map((function(t,n){return e._resolveMaterial(t,n)}))),t.meshes&&(t.meshes=t.meshes.map((function(t,n){return e._resolveMesh(t,n)}))),t.nodes&&(t.nodes=t.nodes.map((function(t,n){return e._resolveNode(t,n)}))),t.skins&&(t.skins=t.skins.map((function(t,n){return e._resolveSkin(t,n)}))),t.scenes&&(t.scenes=t.scenes.map((function(t,n){return e._resolveScene(t,n)}))),void 0!==t.scene&&(t.scene=t.scenes[this.json.scene])}},{key:"getScene",value:function(t){return this._get("scenes",t)}},{key:"getNode",value:function(t){return this._get("nodes",t)}},{key:"getSkin",value:function(t){return this._get("skins",t)}},{key:"getMesh",value:function(t){return this._get("meshes",t)}},{key:"getMaterial",value:function(t){return this._get("materials",t)}},{key:"getAccessor",value:function(t){return this._get("accessors",t)}},{key:"getCamera",value:function(t){return null}},{key:"getTexture",value:function(t){return this._get("textures",t)}},{key:"getSampler",value:function(t){return this._get("samplers",t)}},{key:"getImage",value:function(t){return this._get("images",t)}},{key:"getBufferView",value:function(t){return this._get("bufferViews",t)}},{key:"getBuffer",value:function(t){return this._get("buffers",t)}},{key:"_get",value:function(t,e){if("object"==typeof e)return e;var n=this.json[t]&&this.json[t][e];return n||console.warn("glTF file error: Could not find ".concat(t,"[").concat(e,"]")),n}},{key:"_resolveScene",value:function(t,e){var n=this;return t.id=t.id||"scene-".concat(e),t.nodes=(t.nodes||[]).map((function(t){return n.getNode(t)})),t}},{key:"_resolveNode",value:function(t,e){var n=this;return t.id=t.id||"node-".concat(e),t.children&&(t.children=t.children.map((function(t){return n.getNode(t)}))),void 0!==t.mesh?t.mesh=this.getMesh(t.mesh):void 0!==t.meshes&&t.meshes.length&&(t.mesh=t.meshes.reduce((function(t,e){var r=n.getMesh(e);return t.id=r.id,t.primitives=t.primitives.concat(r.primitives),t}),{primitives:[]})),void 0!==t.camera&&(t.camera=this.getCamera(t.camera)),void 0!==t.skin&&(t.skin=this.getSkin(t.skin)),t}},{key:"_resolveSkin",value:function(t,e){return t.id=t.id||"skin-".concat(e),t.inverseBindMatrices=this.getAccessor(t.inverseBindMatrices),t}},{key:"_resolveMesh",value:function(t,e){var n=this;return t.id=t.id||"mesh-".concat(e),t.primitives&&(t.primitives=t.primitives.map((function(t){var e=(t=Ms({},t)).attributes;for(var r in t.attributes={},e)t.attributes[r]=n.getAccessor(e[r]);return void 0!==t.indices&&(t.indices=n.getAccessor(t.indices)),void 0!==t.material&&(t.material=n.getMaterial(t.material)),t}))),t}},{key:"_resolveMaterial",value:function(t,e){if(t.id=t.id||"material-".concat(e),t.normalTexture&&(t.normalTexture=Ms({},t.normalTexture),t.normalTexture.texture=this.getTexture(t.normalTexture.index)),t.occlusionTexture&&(t.occlustionTexture=Ms({},t.occlustionTexture),t.occlusionTexture.texture=this.getTexture(t.occlusionTexture.index)),t.emissiveTexture&&(t.emmisiveTexture=Ms({},t.emmisiveTexture),t.emissiveTexture.texture=this.getTexture(t.emissiveTexture.index)),t.emissiveFactor||(t.emissiveFactor=t.emmisiveTexture?[1,1,1]:[0,0,0]),t.pbrMetallicRoughness){t.pbrMetallicRoughness=Ms({},t.pbrMetallicRoughness);var n=t.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=Ms({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=Ms({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return t}},{key:"_resolveAccessor",value:function(t,e){var n,r;if(t.id=t.id||"accessor-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView)),t.bytesPerComponent=(n=t.componentType,Gs[n]),t.components=(r=t.type,Fs[r]),t.bytesPerElement=t.bytesPerComponent*t.components,t.bufferView){var i=t.bufferView.buffer,a=za(t,t.bufferView),o=a.ArrayType,s=a.byteLength,c=(t.bufferView.byteOffset||0)+(t.byteOffset||0)+i.byteOffset,u=i.arrayBuffer.slice(c,c+s);t.bufferView.byteStride&&(u=this._getValueFromInterleavedBuffer(i,c,t.bufferView.byteStride,t.bytesPerElement,t.count)),t.value=new o(u)}return t}},{key:"_getValueFromInterleavedBuffer",value:function(t,e,n,r,i){for(var a=new Uint8Array(i*r),o=0;o<i;o++){var s=e+o*n;a.set(new Uint8Array(t.arrayBuffer.slice(s,s+r)),o*r)}return a.buffer}},{key:"_resolveTexture",value:function(t,e){return t.id=t.id||"texture-".concat(e),t.sampler="sampler"in t?this.getSampler(t.sampler):zs,t.source=this.getImage(t.source),t}},{key:"_resolveSampler",value:function(t,e){for(var n in t.id=t.id||"sampler-".concat(e),t.parameters={},t){var r=this._enumSamplerParameter(n);void 0!==r&&(t.parameters[r]=t[n])}return t}},{key:"_enumSamplerParameter",value:function(t){return Ks[t]}},{key:"_resolveImage",value:function(t,e){t.id=t.id||"image-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView));var n=this.images[e];return n&&(t.image=n),t}},{key:"_resolveBufferView",value:function(t,e){var n=t.buffer,r=Ms(Ms({id:"bufferView-".concat(e)},t),{},{buffer:this.buffers[n]}),i=this.buffers[n].arrayBuffer,a=this.buffers[n].byteOffset||0;return"byteOffset"in t&&(a+=t.byteOffset),r.data=new Uint8Array(i,a,t.byteLength),r}},{key:"_resolveCamera",value:function(t,e){return t.id=t.id||"camera-".concat(e),t.perspective,t.orthographic,t}}]),t}();function Xs(t,e){return(new Qs).postProcess(t,e)}function Vs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(t.getUint8(e+0))).concat(String.fromCharCode(t.getUint8(e+1))).concat(String.fromCharCode(t.getUint8(e+2))).concat(String.fromCharCode(t.getUint8(e+3)))}function Ys(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(t),i=n.magic,a=void 0===i?1735152710:i,o=r.getUint32(e,!1);return o===a||1735152710===o}function Zs(t,e,n){Object(Nn.a)(t.header.byteLength>20);var r=e.getUint32(n+0,!0),i=e.getUint32(n+4,!0);return n+=8,Object(Nn.a)(0===i),qs(t,e,n,r),n+=r,n+=$s(t,e,n,t.header.byteLength)}function Ws(t,e,n,r){return Object(Nn.a)(t.header.byteLength>20),function(t,e,n,r){for(;n+8<=t.header.byteLength;){var i=e.getUint32(n+0,!0),a=e.getUint32(n+4,!0);switch(n+=8,a){case 1313821514:qs(t,e,n,i);break;case 5130562:$s(t,e,n,i);break;case 0:r.strict||qs(t,e,n,i);break;case 1:r.strict||$s(t,e,n,i)}n+=Object(Ga.b)(i,4)}}(t,e,n,r),n+t.header.byteLength}function qs(t,e,n,r){var i=new Uint8Array(e.buffer,n,r),a=new TextDecoder("utf8").decode(i);return t.json=JSON.parse(a),Object(Ga.b)(r,4)}function $s(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),Object(Ga.b)(r,4)}function tc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ec(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nc(t,e){return rc.apply(this,arguments)}function rc(){return(rc=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,h,p=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p.length>2&&void 0!==p[2]?p[2]:0,i=p.length>3?p[3]:void 0,a=p.length>4?p[4]:void 0,ic(e,n,r,i),Ss(e,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),gs(e,i,a),l=[],null==i||null===(s=i.gltf)||void 0===s||!s.loadBuffers||!e.json.buffers){t.next=10;break}return t.next=10,ac(e,i,a);case 10:return null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.loadImages&&(f=sc(e,i,a),l.push(f)),h=Bs(e,i,a),l.push(h),t.next=15,Promise.all(l);case 15:return t.abrupt("return",null!=i&&null!==(u=i.gltf)&&void 0!==u&&u.postProcess?Xs(e,i):e);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ic(t,e,n,r){(r.uri&&(t.baseUri=r.uri),e instanceof ArrayBuffer&&!Ys(e,n,r))&&(e=(new TextDecoder).decode(e));if("string"==typeof e)t.json=Object(Ta.a)(e);else if(e instanceof ArrayBuffer){var i={};n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(e),i=Vs(r,n+0),a=r.getUint32(n+4,!0),o=r.getUint32(n+8,!0);switch(Object.assign(t,{header:{byteOffset:n,byteLength:o,hasBinChunk:!1},type:i,version:a,json:{},binChunks:[]}),n+=12,t.version){case 1:return Zs(t,r,n);case 2:return Ws(t,r,n,{});default:throw new Error("Invalid GLB version ".concat(t.version,". Only supports v1 and v2."))}}(i,e,n,r.glb),Ra("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),t._glb=i,t.json=i.json}else Ra(!1,"GLTF: must be ArrayBuffer or string");var a=t.json.buffers||[];if(t.buffers=new Array(a.length).fill(null),t._glb&&t._glb.header.hasBinChunk){var o=t._glb.binChunks;t.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var s=t.json.images||[];t.images=new Array(s.length).fill({})}function ac(t,e,n){return oc.apply(this,arguments)}function oc(){return(oc=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a,o,s,c,u,l,f;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.json.buffers||[],a=0;case 2:if(!(a<i.length)){t.next=19;break}if(!(o=i[a]).uri){t.next=16;break}return Ra(r.fetch),u=xa(o.uri,n),t.next=10,null==r||null===(s=r.fetch)||void 0===s?void 0:s.call(r,u);case 10:return l=t.sent,t.next=13,null==l||null===(c=l.arrayBuffer)||void 0===c?void 0:c.call(l);case 13:f=t.sent,e.buffers[a]={arrayBuffer:f,byteOffset:0,byteLength:f.byteLength},delete o.uri;case 16:++a,t.next=2;break;case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sc(t,e,n){return cc.apply(this,arguments)}function cc(){return(cc=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a,o,s,c,u;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=uc(e),a=e.json.images||[],o=[],s=tc(i);try{for(s.s();!(c=s.n()).done;)u=c.value,o.push(lc(e,a[u],u,n,r))}catch(l){s.e(l)}finally{s.f()}return t.next=7,Promise.all(o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function uc(t){var e,n=new Set,r=tc(t.json.textures||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i.source&&n.add(i.source)}}catch(a){r.e(a)}finally{r.f()}return Array.from(n).sort()}function lc(t,e,n,r,i){return fc.apply(this,arguments)}function fc(){return(fc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){var o,s,c,u,l,f,h;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.fetch,s=a.parse,!n.uri){t.next=9;break}return u=xa(n.uri,i),t.next=5,o(u);case 5:return l=t.sent,t.next=8,l.arrayBuffer();case 8:c=t.sent;case 9:return Number.isFinite(n.bufferView)&&(f=Ma(e.json,e.buffers,n.bufferView),c=Object(Sa.c)(f.buffer,f.byteOffset,f.byteLength)),Ra(c,"glTF image has no data"),t.next=13,s(c,[Ia.a,Da],{mimeType:n.mimeType,basis:i.basis||{format:_a()}},a);case 13:(h=t.sent)&&h[0]&&(h={compressed:!0,mipmaps:!1,width:h[0].width,height:h[0].height,data:h}),e.images=e.images||[],e.images[r]=h;case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hc(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dc={name:"glTF",id:"gltf",module:"gltf",version:"3.1.8",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(t){return vc.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function vc(){return(vc=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=pc(pc({},dc.options),n)).gltf=pc(pc({},dc.options.gltf),n.gltf),i=n.byteOffset,a=void 0===i?0:i,o={},t.next=8,nc(o,e,a,n,r);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var bc=0,yc=1;function mc(t,e,n,r){t.rotateYtoZ=!0;var i=t.byteOffset+t.byteLength-n;if(0===i)throw new Error("glTF byte length must be greater than 0.");return t.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",t.gltfArrayBuffer=Object(Sa.c)(e,n,i),t.gltfByteOffset=0,t.gltfByteLength=i,n%4==0||console.warn("".concat(t.type,": embedded glb is not aligned to a 4-byte boundary.")),t.byteOffset+t.byteLength}function Ac(t,e,n,r){return gc.apply(this,arguments)}function gc(){return(gc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i){var a,o,s;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r["3d-tiles"]||{},Bc(e,n,r),!a.loadGLTF){t.next=16;break}if(o=i.parse,s=i.fetch,!e.gltfUrl){t.next=9;break}return t.next=7,s(e.gltfUrl,r);case 7:e.gltfArrayBuffer=t.sent,e.gltfByteOffset=0;case 9:if(!e.gltfArrayBuffer){t.next=16;break}return t.next=12,o(e.gltfArrayBuffer,dc,r,i);case 12:e.gltf=t.sent,delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bc(t,e,n){switch(e){case bc:var r=new Uint8Array(t.gltfArrayBuffer,t.gltfByteOffset),i=(new TextDecoder).decode(r);t.gltfUrl=i.replace(/[\s\0]+$/,""),delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;break;case yc:break;default:throw new Error("b3dm: Illegal glTF format field")}}function Oc(t,e,n,r,i){return Cc.apply(this,arguments)}function Cc(){return(Cc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){var o,s;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=_c(e,n,r,i,a),t.next=3,Ac(e,yc,i,a);case 3:return(s=null==e||null===(o=e.gltf)||void 0===o?void 0:o.extensions)&&s.CESIUM_RTC&&(e.rtcCenter=s.CESIUM_RTC.center),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _c(t,e,n,r,i){n=mc(t,e,n=Ci(t,e,n=Oi(t,e,n=Bi(t,e,n))),r);var a=new ui(t.featureTableJson,t.featureTableBinary);return t.rtcCenter=a.getGlobalProperty("RTC_CENTER",ii.FLOAT,3),n}var Ec=n("T27a"),jc=n("PcVa"),wc=n("kh/P"),Dc=n("FlnL");function Ic(t,e,n,r,i){return Tc.apply(this,arguments)}function Tc(){return(Tc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a){return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Sc(e,n,r,i,a),t.next=3,Ac(e,e.gltfFormat,i,a);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Sc(t,e,n,r,i){if(n=Bi(t,e,n),1!==t.version)throw new Error("Instanced 3D Model version ".concat(t.version," is not supported"));n=Oi(t,e,n);var a=new DataView(e);if(t.gltfFormat=a.getUint32(n,!0),n=mc(t,e,n=Ci(t,e,n+=4),r),0===t.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var o=new ui(t.featureTableJson,t.featureTableBinary),s=o.getGlobalProperty("INSTANCES_LENGTH");if(o.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");t.eastNorthUp=o.getGlobalProperty("EAST_NORTH_UP"),t.rtcCenter=o.getGlobalProperty("RTC_CENTER",ii.FLOAT,3);new gi(t.batchTableJson,t.batchTableBinary,s);return function(t,e,n,r){for(var i=[new Array(r),t._batchTable][0],a=new ai.a,o=(new ai.a,new ai.a,new ai.a,new Ec.a),s=new jc.a,c=new ai.a,u={},l=new wc.a,f=[],h=[],p=new ai.a,d=new ai.a,v=0;v<r;v++){var b=void 0;if(e.hasProperty("POSITION"))b=e.getProperty("POSITION",ii.FLOAT,3,v,a);else if(e.hasProperty("POSITION_QUANTIZED")){b=e.getProperty("POSITION_QUANTIZED",ii.UNSIGNED_SHORT,3,v,a);var y=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",ii.FLOAT,3,p);if(!y)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var m=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",ii.FLOAT,3,d);if(!m)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var A=0;A<3;A++)b[A]=b[A]/65535*m[A]+y[A]}if(!b)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");a.copy(b),u.translation=a,t.normalUp=e.getProperty("NORMAL_UP",ii.FLOAT,3,v,f),t.normalRight=e.getProperty("NORMAL_RIGHT",ii.FLOAT,3,v,h);if(t.normalUp){if(!t.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");t.hasCustomOrientation=!0}else{if(t.octNormalUp=e.getProperty("NORMAL_UP_OCT32P",ii.UNSIGNED_SHORT,2,f),t.octNormalRight=e.getProperty("NORMAL_RIGHT_OCT32P",ii.UNSIGNED_SHORT,2,h),t.octNormalUp){if(!t.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}t.eastNorthUp?(Dc.a.WGS84.eastNorthUpToFixedFrame(a,l),l.getRotationMatrix3(o)):o.identity()}!1,s.fromMatrix3(o),u.rotation=s,c.set(1,1,1);var g=e.getProperty("SCALE",ii.FLOAT,1,v);Number.isFinite(g)&&c.multiplyByScalar(g);var B=e.getProperty("SCALE_NON_UNIFORM",ii.FLOAT,3,v,f);B&&c.scale(B),u.scale=c;var O=e.getProperty("BATCH_ID",ii.UNSIGNED_SHORT,1,v);void 0===O&&(O=v);var C=(new wc.a).fromQuaternion(u.rotation);l.identity(),l.translate(u.translation),l.multiplyRight(C),l.scale(u.scale);var _=l.clone();i[v]={modelMatrix:_,batchId:O}}t.instances=i}(t,o,0,s),n}function Rc(t,e,n,r,i,a){return xc.apply(this,arguments)}function xc(){return(xc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i,a,o){var s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Bi(e,n,r),s=new DataView(n),e.tilesLength=s.getUint32(r,!0),r+=4,e.tiles=[];case 5:if(!(e.tiles.length<e.tilesLength&&e.byteLength-r>12)){t.next=13;break}return c={},e.tiles.push(c),t.next=10,o(n,r,i,a,c);case 10:r=t.sent,t.next=5;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mc(t,e,n,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=Object(xn.a)(Rn.a.mark((function t(e,n,r,i){var a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.rotateYtoZ=!0,e.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",a=i.parse,t.next=5,a(n,dc,r,i);case 5:e.gltf=t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gc(t){return Pc.apply(this,arguments)}function Pc(){return(Pc=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,(a=o.length>4&&void 0!==o[4]?o[4]:{}).byteOffset=n,a.type=zn(e,n),t.t0=a.type,t.next=t.t0===Jn.COMPOSITE?9:t.t0===Jn.BATCHED_3D_MODEL?12:t.t0===Jn.GLTF?15:t.t0===Jn.INSTANCED_3D_MODEL?18:t.t0===Jn.POINT_CLOUD?21:24;break;case 9:return t.next=11,Rc(a,e,n,r,i,Gc);case 11:return t.abrupt("return",t.sent);case 12:return t.next=14,Oc(a,e,n,r,i);case 14:return t.abrupt("return",t.sent);case 15:return t.next=17,Mc(a,e,r,i);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,Ic(a,e,n,r,i);case 20:return t.abrupt("return",t.sent);case 21:return t.next=23,Pi(a,e,n,r,i);case 23:return t.abrupt("return",t.sent);case 24:throw new Error("3DTileLoader: unknown type ".concat(a.type));case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var kc=n("OauZ");function Uc(){return(Uc=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1952609651===new Uint32Array(e.slice(0,4))[0]){t.next=3;break}throw new Error("Wrong subtree file magic number");case 3:if(1===new Uint32Array(e.slice(4,8))[0]){t.next=6;break}throw new Error("Wrong subtree file verson, must be 1");case 6:if(n=Jc(e.slice(8,16)),r=new Uint8Array(e,24,n),i=new TextDecoder("utf8"),a=i.decode(r),o=JSON.parse(a),s=Jc(e.slice(16,24)),c=new ArrayBuffer(0),s&&(c=e.slice(24+n)),!("bufferView"in o.tileAvailability)){t.next=18;break}return t.next=17,Lc(o,"tileAvailability",c);case 17:o.tileAvailability.explicitBitstream=t.sent;case 18:if(!("bufferView"in o.contentAvailability)){t.next=22;break}return t.next=21,Lc(o,"contentAvailability",c);case 21:o.contentAvailability.explicitBitstream=t.sent;case 22:if(!("bufferView"in o.childSubtreeAvailability)){t.next=26;break}return t.next=25,Lc(o,"childSubtreeAvailability",c);case 25:o.childSubtreeAvailability.explicitBitstream=t.sent;case 26:return t.abrupt("return",o);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Lc(t,e,n){return Hc.apply(this,arguments)}function Hc(){return(Hc=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a,o,s,c;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e[n].bufferView,a=e.bufferViews[i],!(o=e.buffers[a.buffer]).uri){t.next=11;break}return t.next=6,Object(kc.a)(o.uri);case 6:return s=t.sent,t.next=9,s.arrayBuffer();case 9:return c=t.sent,t.abrupt("return",new Uint8Array(c,a.byteOffset,a.byteLength));case 11:return t.abrupt("return",new Uint8Array(r,a.byteOffset,a.byteLength));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Jc(t){var e=new DataView(t),n=e.getUint32(0,!0),r=e.getUint32(4,!0);return n+Math.pow(2,32)*r}var Nc={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:"3.1.8",extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:function(t){return Uc.apply(this,arguments)},options:{}},Kc=n("p1p/"),zc={QUADTREE:4,OCTREE:8};function Qc(t,e){return Xc.apply(this,arguments)}function Xc(){return(Xc=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c,u,l,f,h,p,d,v,b,y,m,A,g,B,O,C,_,E,j,w,D,I,T,S,R,x,M,F,G,P=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=P.length>2&&void 0!==P[2]?P[2]:{mortonIndex:0,x:0,y:0,z:0},i=P.length>3&&void 0!==P[3]?P[3]:0,a=P.length>4&&void 0!==P[4]?P[4]:0,o=P.length>5&&void 0!==P[5]?P[5]:{level:0,mortonIndex:0,x:0,y:0,z:0},s=n.subdivisionScheme,c=n.subtreeLevels,u=n.maximumLevel,l=n.contentUrlTemplate,f=n.subtreesUriTemplate,h=n.basePath,p={children:[],lodMetricValue:0,contentUrl:""},d=zc[s],v=1&i,b=i>>1&1,y=i>>2&1,m=(Math.pow(d,a)-1)/(d-1),A=Zc(r.mortonIndex,i),g=m+A,B=Zc(r.x,v),O=Zc(r.y,b),C=Zc(r.z,y),_=!1,a+1>c&&(_=Vc(e.childSubtreeAvailability,A)),E=Zc(o.x,B),j=Zc(o.y,O),w=Zc(o.z,C),D=a+o.level,!_){t.next=40;break}return I="".concat(h,"/").concat(f),T=Wc(I,D,E,j,w),t.next=27,Object(Kc.a)(T,Nc);case 27:S=t.sent,e=S,o.mortonIndex=A,o.x=B,o.y=O,o.z=C,o.level=a,A=0,g=0,B=0,O=0,C=0,a=0;case 40:if(Vc(e.tileAvailability,g)&&!(a>u)){t.next=43;break}return t.abrupt("return",p);case 43:Vc(e.contentAvailability,g)&&(p.contentUrl=Wc(l,D,E,j,w)),R=a+1,x={mortonIndex:A,x:B,y:O,z:C},M=0;case 48:if(!(M<d)){t.next=56;break}return t.next=51,Qc(e,n,x,M,R,o);case 51:((F=t.sent).contentUrl||F.children.length)&&(G=Yc(F,D+1,{childTileX:B,childTileY:O,childTileZ:C},n),p.children.push(G));case 53:M++,t.next=48;break;case 56:return t.abrupt("return",p);case 57:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vc(t,e){return"constant"in t?Boolean(t.constant):!!t.explicitBitstream&&(n=e,r=t.explicitBitstream,i=Math.floor(n/8),a=n%8,1==(r[i]>>a&1));var n,r,i,a}function Yc(t,e,n,r){var i=r.basePath,a=r.refine,o=r.getRefine,s=r.lodMetricType,c=r.getTileType,u=r.rootLodMetricValue,l=r.rootBoundingVolume,f=t.contentUrl&&t.contentUrl.replace("".concat(i,"/"),""),h=u/Math.pow(2,e),p=function(t,e,n){if(e.region){var r=n.childTileX,i=n.childTileY,a=n.childTileZ,o=Object(F.a)(e.region,6),s=o[0],c=o[1],u=o[2],l=o[3],f=o[4],h=o[5],p=Math.pow(2,t),d=(u-s)/p,v=(l-c)/p,b=(h-f)/p;return{region:[s+d*r,c+v*i,s+d*(r+1),c+v*(i+1),f+b*a,f+b*(a+1)]}}return console.warn("Unsupported bounding volume type: ",e),null}(e,l,n);return{children:t.children,contentUrl:t.contentUrl,content:{uri:f},id:t.contentUrl,refine:o(a),type:c(t),lodMetricType:s,lodMetricValue:h,boundingVolume:p}}function Zc(t,e){return parseInt(t.toString(2)+e.toString(2),2)}function Wc(t,e,n,r,i){var a=function(t){var e={};for(var n in t)e["{".concat(n,"}")]=t[n];return e}({level:e,x:n,y:r,z:i});return t.replace(/{level}|{x}|{y}|{z}/gi,(function(t){return a[t]}))}function qc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function $c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tu(t){if(!t.contentUrl)return Pn;var e=t.contentUrl.split(".").pop();switch(e){case"pnts":return Un;case"i3dm":case"b3dm":case"glb":case"gltf":return kn;default:return e}}function eu(t){switch(t){case"REPLACE":case"replace":return Gn;case"ADD":case"add":return Fn;default:return t}}function nu(t,e){if(!t)return null;if(t.content){var n=t.content.uri||t.content.url;t.contentUrl="".concat(e.basePath,"/").concat(n)}return t.id=t.contentUrl,t.lodMetricType=Hn,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform,t.type=tu(t),t.refine=eu(t.refine),t}function ru(t){var e=t.basePath,n=nu(t.root,t),r=[];for(r.push(n);r.length>0;){var i,a=qc((r.pop()||{}).children||[]);try{for(a.s();!(i=a.n()).done;){var o=i.value;nu(o,{basePath:e}),r.push(o)}}catch(s){a.e(s)}finally{a.f()}}return n}function iu(t){return au.apply(this,arguments)}function au(){return(au=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o,s,c,u,l,f,h,p,d,v;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.root){t.next=2;break}return t.abrupt("return",null);case 2:return n=e.basePath,r=e.root.extensions["3DTILES_implicit_tiling"],i=r.subdivisionScheme,a=r.maximumLevel,o=r.subtreeLevels,s=r.subtrees.uri,c=Wc(s,0,0,0,0),u="".concat(n,"/").concat(c),t.next=9,Object(Kc.a)(u,Nc);case 9:return l=t.sent,f="".concat(n,"/").concat(e.root.content.uri),h=e.root.refine,p=e.root.geometricError,d=e.root.boundingVolume,v={contentUrlTemplate:f,subtreesUriTemplate:s,subdivisionScheme:i,subtreeLevels:o,maximumLevel:a,refine:h,basePath:n,lodMetricType:Hn,rootLodMetricValue:p,rootBoundingVolume:d,getTileType:tu,getRefine:eu},t.next=17,ou(e.root,l,v);case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ou(t,e,n){return su.apply(this,arguments)}function su(){return(su=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a,o;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return e.lodMetricType=Hn,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,t.next=7,Qc(n,r);case 7:return i=t.sent,a=i.children,(o=i.contentUrl)&&(e.contentUrl=o,e.content={uri:o.replace("".concat(r.basePath,"/"),"")}),e.refine=eu(e.refine),e.type=tu(e),e.children=a,e.id=e.contentUrl,t.abrupt("return",e);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var cu={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:"3.1.8",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(t,e,n){return du.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};function uu(t){return Mn.a.dirname(t.url)}function lu(t,e,n){return fu.apply(this,arguments)}function fu(){return(fu=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={content:{featureIds:null}},0,t.next=4,Gc(e,0,n,r,i.content);case 4:return t.abrupt("return",i.content);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hu(t,e,n){return pu.apply(this,arguments)}function pu(){return(pu=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i,a;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=JSON.parse((new TextDecoder).decode(e))).loader=n.loader||cu,a.url=r.url,a.basePath=uu(a),!vu(a)){t.next=10;break}return t.next=7,iu(a);case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=ru(a);case 11:return a.root=t.t0,a.type=Ln,a.lodMetricType=Hn,a.lodMetricValue=(null===(i=a.root)||void 0===i?void 0:i.lodMetricValue)||0,t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function du(){return(du=Object(xn.a)(Rn.a.mark((function t(e,n,r){var i;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n["3d-tiles"]||{},!("auto"===i.isTileset?r.url&&-1!==r.url.indexOf(".json"):i.isTileset)){t.next=8;break}return t.next=5,hu(e,n,r);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,lu(e,n,r);case 10:e=t.sent;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vu(t){var e,n;return(null==t||null===(e=t.extensionsRequired)||void 0===e?void 0:e.includes("3DTILES_implicit_tiling"))&&(null==t||null===(n=t.extensionsUsed)||void 0===n?void 0:n.includes("3DTILES_implicit_tiling"))}function bu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bu(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Au(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Au(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gu="https://api.cesium.com/v1/assets";function Bu(t,e){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s,c,u;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,Cu(e);case 3:r=t.sent,i=mu(r.items);try{for(i.s();!(a=i.n()).done;)"3DTILES"===(o=a.value).type&&(n=o.id)}catch(l){i.e(l)}finally{i.f()}case 6:return t.next=8,Eu(e,n);case 8:return s=t.sent,c=s.type,u=s.url,Object(Nn.a)("3DTILES"===c&&u),s.headers={Authorization:"Bearer ".concat(s.accessToken)},t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cu(t){return _u.apply(this,arguments)}function _u(){return(_u=Object(xn.a)(Rn.a.mark((function t(e){var n,r;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(Nn.a)(e),gu,n={Authorization:"Bearer ".concat(e)},t.next=5,Object(kc.a)("https://api.cesium.com/v1/assets",{fetch:{headers:n}});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:return t.next=10,r.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Eu(t,e){return ju.apply(this,arguments)}function ju(){return(ju=Object(xn.a)(Rn.a.mark((function t(e,n){var r,i,a,o,s;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(Nn.a)(e,n),r={Authorization:"Bearer ".concat(e)},i="".concat(gu,"/").concat(n),t.next=5,Object(kc.a)("".concat(i),{fetch:{headers:r}});case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.next=10,a.json();case 10:return o=t.sent,t.next=13,Object(kc.a)("".concat(i,"/endpoint"),{fetch:{headers:r}});case 13:if((a=t.sent).ok){t.next=16;break}throw new Error(a.statusText);case 16:return t.next=18,a.json();case 18:return s=t.sent,o=yu(yu({},o),s),t.abrupt("return",o);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wu(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Iu(){return(Iu=Object(xn.a)(Rn.a.mark((function t(e){var n,r,i,a,o=arguments;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=o.length>1&&void 0!==o[1]?o[1]:{})["cesium-ion"]||{},r=n.accessToken,i=n.assetId,Number.isFinite(i)||(a=e.match(/\/([0-9]+)\/tileset.json/),i=a&&a[1]),t.abrupt("return",Bu(r,i));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Tu,Su=Du(Du({},cu),{},{id:"cesium-ion",name:"Cesium Ion",preload:function(t){return Iu.apply(this,arguments)},parse:(Tu=Object(xn.a)(Rn.a.mark((function t(e,n,r){return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Du({},n))["3d-tiles"]=n["cesium-ion"],n.loader=Su,t.abrupt("return",cu.parse(e,n,r));case 4:case"end":return t.stop()}}),t)}))),function(t,e,n){return Tu.apply(this,arguments)}),options:{"cesium-ion":Du(Du({},cu.options["3d-tiles"]),{},{accessToken:null})}});function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ru(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mu={latitude:40,longitude:-75,pitch:45,maxPitch:60,bearing:0,minZoom:2,maxZoom:30,zoom:17};function Fu(t){var e=t.mapStyle,n=void 0===e?"https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json":e,r=t.updateAttributions,i=Object(f.useState)(Mu),a=i[0],o=i[1],s=new Tn.a({id:"tile-3d-layer",pointSize:2,data:"https://assets.cesium.com/43978/tileset.json",loader:Su,loadOptions:{"cesium-ion":{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlYWMxMzcyYy0zZjJkLTQwODctODNlNi01MDRkZmMzMjIxOWIiLCJpZCI6OTYyMCwic2NvcGVzIjpbImFzbCIsImFzciIsImdjIl0sImlhdCI6MTU2Mjg2NjI3M30.1FNiClUyk00YH_nWfSGpiQAjR5V2OvREDq1PJ5QMjWQ"}},onTilesetLoad:function(t){var e=t.cartographicCenter,n=t.zoom;o(xu(xu({},Mu),{},{longitude:e[0],latitude:e[1],zoom:n})),r&&r(t.credits&&t.credits.attributions)}});return h.a.createElement(In.a,{layers:[s],initialViewState:a,controller:!0},h.a.createElement(At,{reuseMaps:!0,mapStyle:n,preventStyleDiffing:!0}))}var Gu=n("CtqP"),Pu=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._updateAttributions=function(t){e.props.onStateChange({attributions:t})},e}return Object(l.a)(e,t),e.renderInfo=function(t){if(!t.attributions)return null;var e=t.attributions;return h.a.createElement("div",{style:{marginTop:"0.5cm"}},h.a.createElement("div",{style:{textAlign:"center",borderStyle:"groove"}},Boolean(e.length)&&h.a.createElement("b",null,"Tileset Credentials"),e.map((function(t){return h.a.createElement("div",{key:t.html,dangerouslySetInnerHTML:{__html:t.html}})}))))},e.prototype.render=function(){return h.a.createElement(Fu,Object.assign({},this.props,{updateAttributions:this._updateAttributions}))},e}(f.Component);Pu.title="City of Melbourne 3D Point Cloud",Pu.code=p.b+"/examples/website/3d-tiles",Pu.parameters={},Pu.mapStyle=p.c.DARK;e.default=Object(Gu.a)(Pu)},A67p:function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},a=i.global||i.self||i.window||{},o="object"!=typeof r||"[object process]"!==String(r)||r.browser,s="function"==typeof importScripts,c=("undefined"!=typeof window&&window.orientation,void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version));c&&parseFloat(c[1])}).call(this,n("yLpj"),n("8oxB"))},RdxY:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var r=n("vuIU"),i=n("1OyB");new Uint8Array([0]);var a,o,s,c,u,l,f,h,p=[171,75,84,88,32,50,48,187,13,10,26,10];!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(a||(a={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(o||(o={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(c||(c={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(u||(u={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(l||(l={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(f||(f={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(h||(h={}));var d=function t(){Object(i.a)(this,t),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=a.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:o.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:s.UNSPECIFIED,colorPrimaries:c.SRGB,transferFunction:c.SRGB,flags:l.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null},v=function(){function t(e,n,r,a){Object(i.a)(this,t),this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=a,this._offset=0}return Object(r.a)(t,[{key:"_nextUint8",value:function(){var t=this._dataView.getUint8(this._offset);return this._offset+=1,t}},{key:"_nextUint16",value:function(){var t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}},{key:"_nextUint32",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}},{key:"_nextUint64",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}},{key:"_skip",value:function(t){return this._offset+=t,this}},{key:"_scan",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==e&&r<t;)r++,this._offset++;return r<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),t}();function b(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):t.from(e).toString("utf8")}function y(t){var e=new Uint8Array(t.buffer,t.byteOffset,p.length);if(e[0]!==p[0]||e[1]!==p[1]||e[2]!==p[2]||e[3]!==p[3]||e[4]!==p[4]||e[5]!==p[5]||e[6]!==p[6]||e[7]!==p[7]||e[8]!==p[8]||e[9]!==p[9]||e[10]!==p[10]||e[11]!==p[11])throw new Error("Missing KTX 2.0 identifier.");var n=new d,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new v(t,p.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),c=i._nextUint32(),u=i._nextUint32(),l=i._nextUint64(),f=i._nextUint64(),h=new v(t,p.length+r,3*a*8,!0),y=0;y<a;y++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});for(var m=new v(t,o,s,!0),A={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:{x:m._nextUint8()+1,y:m._nextUint8()+1,z:m._nextUint8()+1,w:m._nextUint8()+1},bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},g=(A.descriptorBlockSize/4-6)/4,B=0;B<g;B++)A.samples[B]={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelID:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:m._nextUint32(),sampleUpper:m._nextUint32()};n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);for(var O=new v(t,c,u,!0);O._offset<u;){var C=O._nextUint32(),_=O._scan(C),E=b(_),j=O._scan(C-_.byteLength);n.keyValue[E]=E.match(/^ktx/i)?b(j):j,C%4&&O._skip(4-C%4)}if(f<=0)return n;for(var w=new v(t,l,f,!0),D=w._nextUint16(),I=w._nextUint16(),T=w._nextUint32(),S=w._nextUint32(),R=w._nextUint32(),x=w._nextUint32(),M=[],F=0;F<a;F++)M.push({imageFlags:w._nextUint32(),rgbSliceByteOffset:w._nextUint32(),rgbSliceByteLength:w._nextUint32(),alphaSliceByteOffset:w._nextUint32(),alphaSliceByteLength:w._nextUint32()});var G=l+w._offset,P=G+T,k=P+S,U=k+R,L=new Uint8Array(t.buffer,t.byteOffset+G,T),H=new Uint8Array(t.buffer,t.byteOffset+P,S),J=new Uint8Array(t.buffer,t.byteOffset+k,R),N=new Uint8Array(t.buffer,t.byteOffset+U,x);return n.globalData={endpointCount:D,selectorCount:I,imageDescs:M,endpointsData:L,selectorsData:H,tablesData:J,extendedData:N},n}}).call(this,n("HDXh").Buffer)},d1Eg:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof l?e:l,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,o),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var u={};function l(){}function f(){}function h(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(C([])));v&&v!==e&&n.call(v,i)&&(p=v);var b=h.prototype=l.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var r;this._invoke=function(i,a){function o(){return new e((function(r,o){!function r(i,a,o,s){var u=c(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(f).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=b.constructor=h,h.constructor=f,h[o]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[a]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new m(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(b),b[o]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},evtk:function(t,e,n){"use strict";(function(t){var r=n("q1tI");function i(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var r,i,a="undefined"!=typeof document&&document.attachEvent;if(!a){var o=(i=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)},function(t){return i(t)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(t){return r(t)}),c=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(t){if(!(t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;c(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},l=!1,f="",h="animationstart",p="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=document.createElement("fakeelement");if(void 0!==v.style.animationName&&(l=!0),!1===l)for(var b=0;b<p.length;b++)if(void 0!==v.style[p[b]+"AnimationName"]){f="-"+p[b].toLowerCase()+"-",h=d[b],l=!0;break}var y="resizeanim",m="@"+f+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",A=f+"animation: 1ms "+y+"; "}return{addResizeListener:function(t,r){if(a)t.attachEvent("onresize",r);else{if(!t.__resizeTriggers__){var i=t.ownerDocument,o=n.getComputedStyle(t);o&&"static"==o.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(m||"")+".resize-triggers { "+(A||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(i),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=i.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),c(t),t.addEventListener("scroll",u,!0),h&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==y&&c(t)},t.__resizeTriggers__.addEventListener(h,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(a)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(h,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}var a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u=function(t){function e(){var t,n,r;a(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=c(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var a=r._parentNode.offsetHeight||0,o=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,h=a-l-f,p=o-c-u;(!e&&r.state.height!==h||!n&&r.state.width!==p)&&(r.setState({height:a-l-f,width:o-c-u}),i({height:a,width:o}))}},r._setRef=function(t){r._autoSizer=t},c(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=t.disableHeight,a=t.disableWidth,o=t.style,c=this.state,u=c.height,l=c.width,f={overflow:"visible"},h={},p=!1;return i||(0===u&&(p=!0),f.height=0,h.height=u),a||(0===l&&(p=!0),f.width=0,h.width=l),Object(r.createElement)("div",{className:n,ref:this._setRef,style:s({},f,o)},!p&&e(h))}}]),e}(r.PureComponent);u.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},e.a=u}).call(this,n("yLpj"))},oJR1:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="undefined"!=typeof window?window:t,i=(void 0!==t||window,"undefined"!=typeof document?document:{})}).call(this,n("yLpj"))},q8n8:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!=typeof window?window:t,a=(void 0!==t||window,"undefined"!=typeof document&&document,!1);try{var o={get passive(){return a=!0,!0}};i.addEventListener("test",o,o),i.removeEventListener("test",o,o)}catch(s){}}).call(this,n("yLpj"))}}]);